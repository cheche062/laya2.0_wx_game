var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
				value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /**This class is automatically generated by LayaAirIDE, please do not make any modifications. */


var _GameScene = require("./scenes/GameScene");

var _GameScene2 = _interopRequireDefault(_GameScene);

var _GameControlNew = require("./script/GameControlNew");

var _GameControlNew2 = _interopRequireDefault(_GameControlNew);

var _StartScene = require("./scenes/StartScene");

var _StartScene2 = _interopRequireDefault(_StartScene);

var _GameUI = require("./script/GameUI");

var _GameUI2 = _interopRequireDefault(_GameUI);

var _GameControl = require("./script/GameControl");

var _GameControl2 = _interopRequireDefault(_GameControl);

var _Bullet = require("./script/Bullet");

var _Bullet2 = _interopRequireDefault(_Bullet);

var _Column = require("./script/Column");

var _Column2 = _interopRequireDefault(_Column);

var _DropBox = require("./script/DropBox");

var _DropBox2 = _interopRequireDefault(_DropBox);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var GameConfig = function () {
				function GameConfig() {
								_classCallCheck(this, GameConfig);
				}

				_createClass(GameConfig, null, [{
								key: "init",
								value: function init() {
												//注册Script或者Runtime引用
												var reg = Laya.ClassUtils.regClass;
												reg("scenes/GameScene.js", _GameScene2.default);
												reg("script/GameControlNew.js", _GameControlNew2.default);
												reg("scenes/StartScene.js", _StartScene2.default);
												reg("script/GameUI.js", _GameUI2.default);
												reg("script/GameControl.js", _GameControl2.default);
												reg("script/Bullet.js", _Bullet2.default);
												reg("script/Column.js", _Column2.default);
												reg("script/DropBox.js", _DropBox2.default);
								}
				}]);

				return GameConfig;
}();

exports.default = GameConfig;

GameConfig.width = 640;
GameConfig.height = 1136;
GameConfig.scaleMode = "fixedheight";
GameConfig.screenMode = "vertical";
GameConfig.alignV = "middle";
GameConfig.alignH = "center";
GameConfig.startScene = "test/StartScene.scene";
GameConfig.sceneRoot = "";
GameConfig.debug = false;
GameConfig.stat = false;
GameConfig.physicsDebug = false;
GameConfig.exportSceneToJson = true;

GameConfig.init();

},{"./scenes/GameScene":3,"./scenes/StartScene":4,"./script/Bullet":5,"./script/Column":6,"./script/DropBox":7,"./script/GameControl":8,"./script/GameControlNew":9,"./script/GameUI":10}],2:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _GameConfig = require("./GameConfig");

var _GameConfig2 = _interopRequireDefault(_GameConfig);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Main = function () {
	function Main() {
		_classCallCheck(this, Main);

		//根据IDE设置初始化引擎		
		if (window["Laya3D"]) Laya3D.init(_GameConfig2.default.width, _GameConfig2.default.height);else Laya.init(_GameConfig2.default.width, _GameConfig2.default.height, Laya["WebGL"]);
		Laya["Physics"] && Laya["Physics"].enable();
		Laya["DebugPanel"] && Laya["DebugPanel"].enable();
		Laya.stage.scaleMode = _GameConfig2.default.scaleMode;
		Laya.stage.screenMode = _GameConfig2.default.screenMode;
		Laya.stage.alignV = _GameConfig2.default.alignV;
		Laya.stage.alignH = _GameConfig2.default.alignH;
		//兼容微信不支持加载scene后缀场景
		Laya.URL.exportSceneToJson = _GameConfig2.default.exportSceneToJson;

		//打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）
		if (_GameConfig2.default.debug || Laya.Utils.getQueryString("debug") == "true") Laya.enableDebugPanel();
		if (_GameConfig2.default.physicsDebug && Laya["PhysicsDebugDraw"]) Laya["PhysicsDebugDraw"].enable();
		if (_GameConfig2.default.stat) Laya.Stat.show();
		Laya.alertGlobalError = true;

		//激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程
		Laya.ResourceVersion.enable("version.json", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);
	}

	_createClass(Main, [{
		key: "onVersionLoaded",
		value: function onVersionLoaded() {
			//激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图
			Laya.AtlasInfoManager.enable("fileconfig.json", Laya.Handler.create(this, this.onConfigLoaded));
		}
	}, {
		key: "onConfigLoaded",
		value: function onConfigLoaded() {
			//加载IDE指定的场景
			_GameConfig2.default.startScene && Laya.Scene.open(_GameConfig2.default.startScene);
		}
	}]);

	return Main;
}();
//激活启动类


new Main();

},{"./GameConfig":1}],3:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _GameControlNew = require("../script/GameControlNew");

var _GameControlNew2 = _interopRequireDefault(_GameControlNew);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var GameScene = function (_Laya$Scene) {
    _inherits(GameScene, _Laya$Scene);

    function GameScene() {
        _classCallCheck(this, GameScene);

        //设置单例的引用方式，方便其他类引用
        var _this = _possibleConstructorReturn(this, (GameScene.__proto__ || Object.getPrototypeOf(GameScene)).call(this));

        GameScene.instance = _this;

        //加载场景文件
        _this.loadScene("test/GameScene.scene");
        return _this;
    }

    _createClass(GameScene, [{
        key: "onEnable",
        value: function onEnable() {
            this.graphics.drawRect(0, 0, this.width, this.height, "#9bdbea");

            this._control = this.getComponent(_GameControlNew2.default);

            console.log("GameScene  ok");
        }
    }, {
        key: "onBtnClick",
        value: function onBtnClick() {}
    }]);

    return GameScene;
}(Laya.Scene);

exports.default = GameScene;

},{"../script/GameControlNew":9}],4:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * 本示例采用非脚本的方式实现，而使用继承页面基类，实现页面逻辑。在IDE里面设置场景的Runtime属性即可和场景进行关联
 * 相比脚本方式，继承式页面类，可以直接使用页面定义的属性（通过IDE内var属性定义），比如this.tipLbll，this.scoreLbl，具有代码提示效果
 * 建议：如果是页面级的逻辑，需要频繁访问页面内多个元素，使用继承式写法，如果是独立小模块，功能单一，建议用脚本方式实现，比如子弹脚本。
 */
var StartScene = function (_Laya$Scene) {
    _inherits(StartScene, _Laya$Scene);

    function StartScene() {
        _classCallCheck(this, StartScene);

        //设置单例的引用方式，方便其他类引用
        var _this = _possibleConstructorReturn(this, (StartScene.__proto__ || Object.getPrototypeOf(StartScene)).call(this));

        StartScene.instance = _this;
        //关闭多点触控，否则就无敌了
        Laya.MouseManager.multiTouchEnabled = false;
        //加载场景文件
        _this.loadScene("test/StartScene.scene");
        return _this;
    }

    _createClass(StartScene, [{
        key: "onEnable",
        value: function onEnable() {
            //点击提示文字，开始游戏
            this.btn_start.on(Laya.Event.CLICK, this, this.onGameStart);
        }
    }, {
        key: "onGameStart",
        value: function onGameStart() {
            Laya.Scene.open("test/GameScene.scene");
        }
    }]);

    return StartScene;
}(Laya.Scene);

exports.default = StartScene;

},{}],5:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * 子弹脚本，实现子弹飞行逻辑及对象池回收机制
 */
var Bullet = function (_Laya$Script) {
    _inherits(Bullet, _Laya$Script);

    function Bullet() {
        _classCallCheck(this, Bullet);

        return _possibleConstructorReturn(this, (Bullet.__proto__ || Object.getPrototypeOf(Bullet)).call(this));
    }

    _createClass(Bullet, [{
        key: "onEnable",
        value: function onEnable() {
            //设置初始速度
            var rig = this.owner.getComponent(Laya.RigidBody);
            rig.setVelocity({ x: 0, y: -10 });
        }
    }, {
        key: "onTriggerEnter",
        value: function onTriggerEnter(other, self, contact) {
            //如果被碰到，则移除子弹
            this.owner.removeSelf();
        }
    }, {
        key: "onUpdate",
        value: function onUpdate() {
            //如果子弹超出屏幕，则移除子弹
            if (this.owner.y < -10) {
                this.owner.removeSelf();
            }
        }
    }, {
        key: "onDisable",
        value: function onDisable() {
            //子弹被移除时，回收子弹到对象池，方便下次复用，减少对象创建开销
            Laya.Pool.recover("bullet", this.owner);
        }
    }]);

    return Bullet;
}(Laya.Script);

exports.default = Bullet;

},{}],6:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _utils = require("../utils/utils");

var _utils2 = _interopRequireDefault(_utils);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * 柱子
 */
var COLUMN_HEIGTH = 300;

var Column = function (_Laya$Script) {
    _inherits(Column, _Laya$Script);

    function Column() {
        _classCallCheck(this, Column);

        return _possibleConstructorReturn(this, (Column.__proto__ || Object.getPrototypeOf(Column)).call(this));
    }

    _createClass(Column, [{
        key: "onEnable",
        value: function onEnable() {
            // 背景柱子
            this.dom_bg = this.owner.getChildByName("dom_bg");
            // 红心
            this.dom_red = this.owner.getChildByName("dom_red");

            // 随机取柱子宽度
            this.owner.width = _utils2.default.randomNumber(70, 120);
            this.dom_bg.width = this.owner.width;
            this.dom_bg.height = COLUMN_HEIGTH;

            this.dom_red.pos((this.dom_bg.width - this.dom_red.width) / 2, 3);

            // console.log(this.owner, this.owner.width)
        }
    }, {
        key: "showlog",
        value: function showlog() {
            console.log("asdf");
        }
    }, {
        key: "onUpdate",
        value: function onUpdate() {}
    }, {
        key: "onDisable",
        value: function onDisable() {
            //柱子被移除时，回收柱子到对象池
            Laya.Pool.recover("column", this.owner);
        }
    }]);

    return Column;
}(Laya.Script);

exports.default = Column;

},{"../utils/utils":11}],7:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _GameUI = require("./GameUI");

var _GameUI2 = _interopRequireDefault(_GameUI);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * 掉落盒子脚本，实现盒子碰撞及回收流程
 */
var DropBox = function (_Laya$Script) {
    _inherits(DropBox, _Laya$Script);

    function DropBox() {
        _classCallCheck(this, DropBox);

        return _possibleConstructorReturn(this, (DropBox.__proto__ || Object.getPrototypeOf(DropBox)).call(this));
    }

    _createClass(DropBox, [{
        key: "onEnable",
        value: function onEnable() {
            /**获得组件引用，避免每次获取组件带来不必要的查询开销 */
            this._rig = this.owner.getComponent(Laya.RigidBody);
            //盒子等级
            this.level = Math.round(Math.random() * 5) + 1;
            //等级文本对象引用
            this._text = this.owner.getChildByName("levelTxt");
            this._text.text = this.level + "";
        }
    }, {
        key: "onUpdate",
        value: function onUpdate() {
            //让持续盒子旋转
            this.owner.rotation++;
        }
    }, {
        key: "onTriggerEnter",
        value: function onTriggerEnter(other, self, contact) {
            var owner = this.owner;
            if (other.label === "buttle") {
                //碰撞到子弹后，增加积分，播放声音特效
                if (this.level > 1) {
                    this.level--;
                    this._text.changeText(this.level + "");
                    owner.getComponent(Laya.RigidBody).setVelocity({ x: 0, y: -10 });
                    Laya.SoundManager.playSound("sound/hit.wav");
                } else {
                    if (owner.parent) {
                        var effect = Laya.Pool.getItemByCreateFun("effect", this.createEffect, this);
                        effect.pos(owner.x, owner.y);
                        owner.parent.addChild(effect);
                        effect.play(0, true);
                        owner.removeSelf();
                        Laya.SoundManager.playSound("sound/destroy.wav");
                    }
                }
                _GameUI2.default.instance.addScore(1);
            } else if (other.label === "ground") {
                //只要有一个盒子碰到地板，则停止游戏
                owner.removeSelf();
                _GameUI2.default.instance.stopGame();
            }
        }

        /**使用对象池创建爆炸动画 */

    }, {
        key: "createEffect",
        value: function createEffect() {
            var ani = new Laya.Animation();
            ani.loadAnimation("test/TestAni.ani");
            ani.on(Laya.Event.COMPLETE, null, recover);
            function recover() {
                ani.removeSelf();
                Laya.Pool.recover("effect", ani);
            }
            return ani;
        }
    }, {
        key: "onDisable",
        value: function onDisable() {
            //盒子被移除时，回收盒子到对象池，方便下次复用，减少对象创建开销。
            Laya.Pool.recover("dropBox", this.owner);
        }
    }]);

    return DropBox;
}(Laya.Script);

exports.default = DropBox;

},{"./GameUI":10}],8:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _DropBox = require("./DropBox");

var _DropBox2 = _interopRequireDefault(_DropBox);

var _Bullet = require("./Bullet");

var _Bullet2 = _interopRequireDefault(_Bullet);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * 游戏控制脚本。定义了几个dropBox，bullet，createBoxInterval等变量，能够在IDE显示及设置该变量
 * 更多类型定义，请参考官方文档
 */
var GameControl = function (_Laya$Script) {
    _inherits(GameControl, _Laya$Script);

    /** @prop {name:dropBox,tips:"掉落容器预制体对象",type:Prefab}*/
    /** @prop {name:bullet,tips:"子弹预制体对象",type:Prefab}*/
    /** @prop {name:createBoxInterval,tips:"间隔多少毫秒创建一个下跌的容器",type:int,default:1000}*/

    function GameControl() {
        _classCallCheck(this, GameControl);

        return _possibleConstructorReturn(this, (GameControl.__proto__ || Object.getPrototypeOf(GameControl)).call(this));
    }

    _createClass(GameControl, [{
        key: "onEnable",
        value: function onEnable() {
            //间隔多少毫秒创建一个下跌的容器
            this.createBoxInterval = 1000;
            //开始时间
            this._time = Date.now();
            //是否已经开始游戏
            this._started = false;
            //子弹和盒子所在的容器对象
            this._gameBox = this.owner.getChildByName("gameBox");
            this.createBox();
        }
    }, {
        key: "onUpdate",
        value: function onUpdate() {
            //每间隔一段时间创建一个盒子
            var now = Date.now();
            if (now - this._time > this.createBoxInterval) {
                this._time = now;
                this.createBox();
            }
        }
    }, {
        key: "createBox",
        value: function createBox() {
            //使用对象池创建盒子
            var box = Laya.Pool.getItemByCreateFun("dropBox", this.dropBox.create, this.dropBox);
            box.pos(Math.random() * (Laya.stage.width - 100), -100);
            this._gameBox.addChild(box);
        }
    }, {
        key: "onStageClick",
        value: function onStageClick(e) {
            //停止事件冒泡，提高性能，当然也可以不要
            e.stopPropagation();
            //舞台被点击后，使用对象池创建子弹
            var flyer = Laya.Pool.getItemByCreateFun("bullet", this.bullet.create, this.bullet);
            flyer.pos(Laya.stage.mouseX, Laya.stage.mouseY);
            this._gameBox.addChild(flyer);
        }

        /**开始游戏，通过激活本脚本方式开始游戏*/

    }, {
        key: "startGame",
        value: function startGame() {
            if (!this._started) {
                this._started = true;
                this.enabled = true;
            }
        }

        /**结束游戏，通过非激活本脚本停止游戏 */

    }, {
        key: "stopGame",
        value: function stopGame() {
            this._started = false;
            this.enabled = false;
            this.createBoxInterval = 1000;
            this._gameBox.removeChildren();
        }
    }]);

    return GameControl;
}(Laya.Script);

exports.default = GameControl;

},{"./Bullet":5,"./DropBox":7}],9:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _utils = require("../utils/utils");

var _utils2 = _interopRequireDefault(_utils);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * 游戏控制脚本。定义了几个dropBox，bullet，createBoxInterval等变量，能够在IDE显示及设置该变量
 * 更多类型定义，请参考官方文档
 */
/**起始横坐标*/
var ORIGIN_X = 50;

var GameControl = function (_Laya$Script) {
    _inherits(GameControl, _Laya$Script);

    /** @prop {name:column,tips:"生成的柱子",type:Prefab}*/

    function GameControl() {
        _classCallCheck(this, GameControl);

        return _possibleConstructorReturn(this, (GameControl.__proto__ || Object.getPrototypeOf(GameControl)).call(this));
    }

    _createClass(GameControl, [{
        key: "onEnable",
        value: function onEnable() {
            this._dom_gameBox = this.owner.getChildByName("dom_gamebox");
        }
    }, {
        key: "onUpdate",
        value: function onUpdate() {}
    }, {
        key: "createColumn",
        value: function createColumn() {
            //使用对象池创建盒子
            var box = Laya.Pool.getItemByCreateFun("column", this.column.create, this.column);
            if (this._dom_gameBox.numChildren) {
                var last_box = this._dom_gameBox.getChildAt(this._dom_gameBox.numChildren - 1);
                box.x = last_box.x + last_box.width + _utils2.default.randomNumber(80, 250);
            }
            this._dom_gameBox.addChild(box);

            console.log(this._dom_gameBox.width);
        }
    }, {
        key: "onStageClick",
        value: function onStageClick(e) {
            e.stopPropagation();

            if (this._dom_gameBox.numChildren) {
                var last_box = this._dom_gameBox.getChildAt(this._dom_gameBox.numChildren - 1);
                Laya.Tween.to(this._dom_gameBox, { x: last_box.x * -1 }, 300, Laya.Ease.linearIn, Laya.Handler.create(this, this.createColumn));
            } else {
                this.createColumn();
            }
        }
    }]);

    return GameControl;
}(Laya.Script);

exports.default = GameControl;

},{"../utils/utils":11}],10:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _GameControl = require("./GameControl");

var _GameControl2 = _interopRequireDefault(_GameControl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * 本示例采用非脚本的方式实现，而使用继承页面基类，实现页面逻辑。在IDE里面设置场景的Runtime属性即可和场景进行关联
 * 相比脚本方式，继承式页面类，可以直接使用页面定义的属性（通过IDE内var属性定义），比如this.tipLbll，this.scoreLbl，具有代码提示效果
 * 建议：如果是页面级的逻辑，需要频繁访问页面内多个元素，使用继承式写法，如果是独立小模块，功能单一，建议用脚本方式实现，比如子弹脚本。
 */
var GameUI = function (_Laya$Scene) {
    _inherits(GameUI, _Laya$Scene);

    function GameUI() {
        _classCallCheck(this, GameUI);

        //设置单例的引用方式，方便其他类引用
        var _this = _possibleConstructorReturn(this, (GameUI.__proto__ || Object.getPrototypeOf(GameUI)).call(this));

        GameUI.instance = _this;
        //关闭多点触控，否则就无敌了
        Laya.MouseManager.multiTouchEnabled = false;
        //加载场景文件
        _this.loadScene("test/TestScene.scene");
        return _this;
    }

    _createClass(GameUI, [{
        key: "onEnable",
        value: function onEnable() {
            //戏控制脚本引用，避免每次获取组件带来不必要的性能开销
            this._control = this.getComponent(_GameControl2.default);
            //点击提示文字，开始游戏
            this.tipLbll.on(Laya.Event.CLICK, this, this.onTipClick);
        }
    }, {
        key: "onTipClick",
        value: function onTipClick(e) {
            this.tipLbll.visible = false;
            this._score = 0;
            this.scoreLbl.text = "";
            this._control.startGame();
        }

        /**增加分数 */

    }, {
        key: "addScore",
        value: function addScore(value) {
            this._score += value;
            this.scoreLbl.changeText("分数：" + this._score);
            //随着分数越高，难度增大
            if (this._control.createBoxInterval > 600 && this._score % 20 == 0) this._control.createBoxInterval -= 20;
        }

        /**停止游戏 */

    }, {
        key: "stopGame",
        value: function stopGame() {
            this.tipLbll.visible = true;
            this.tipLbll.text = "游戏结束了，点击屏幕重新开始";
            this._control.stopGame();
        }
    }]);

    return GameUI;
}(Laya.Scene);

exports.default = GameUI;

},{"./GameControl":8}],11:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

//工具
var UTILS = {};

// 是否打印信息
UTILS.initDebug = function (key, val) {
    var arr = location.search.slice(1).split('&');
    var result = false;
    arr.forEach(function (item) {
        var list = item.split('=');
        if (list[0] === key && list[1] === val) {
            result = true;
        }
    });

    return result;
};

//生产0-num范围的随机数
UTILS.randomNumber = function (n1, n2) {
    var start = n1,
        end = n2;
    if (typeof n2 === 'undefined') {
        start = 0;
        end = n1;
    }
    return Math.round(Math.random() * (end - start) + start);
};

//登录
UTILS.gotoLogin = function () {
    location.href = GM.userLoginUrl;
};

// otp验证
UTILS.otpCheckHandler = function () {
    location.href = "/?act=otp&st=otpPage";
};

UTILS.willGotoLogin = function () {
    if (!UTILS.checkLoginStatus()) {
        UTILS.gotoLogin();
        return true;
    }
};

// 查看别处游戏币
UTILS.checkOtherYxb = function () {
    if (window.GM && GM.whereYxb) {
        GM.whereYxb();
    }
};

//获取字符串长度，支持中文
UTILS.getStringLength = function () {
    var str = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';

    return ("" + str.replace(/[^\x00-\xff]/gi, "ox")).length;
};

// 截取字符长度限制以内的字符
UTILS.getActiveStr = function () {
    var str = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';
    var total = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 8;

    var realLength = 0;
    str = String(str);
    var len = str.length;
    var result = '';
    if (len === 0) {
        return '';
    }
    for (var i = 0; i < len; i++) {
        if (str.charCodeAt(i) > 128) {
            realLength += 2;
        } else {
            realLength += 1;
        }
        if (realLength > total) {
            return result + '...';
        }
        result = result + str.charAt(i);
    }
    return result;
};

// 深度克隆
UTILS.extendDeep = function (parent, child) {
    var child = child || {};
    var _tostr = Object.prototype.toString;
    for (var key in parent) {
        if (parent.hasOwnProperty(key)) {
            if ((typeof _val === 'undefined' ? 'undefined' : _typeof(_val)) === 'object') {
                child[key] = _tostr.call(parent[key]) === '[object Array]' ? [] : {};
                extendDeep(parent[key], child[key]);
            } else {
                child[key] = parent[key];
            }
        }
    }
    return child;
};

// 运行时间
UTILS.runningTime = function (fn) {
    var time1 = Date.now();
    fn();
    var time2 = Date.now();

    console.log(time2 - time1);
};

UTILS.getCookie = function (name) {
    var cookieName = encodeURIComponent(name) + "=",
        cookieStart = document.cookie.indexOf(cookieName),
        cookieValue = null;

    if (cookieStart > -1) {
        var cookieEnd = document.cookie.indexOf(";", cookieStart);
        if (cookieEnd == -1) {
            cookieEnd = document.cookie.length;
        }
        cookieValue = decodeURIComponent(document.cookie.substring(cookieStart + cookieName.length, cookieEnd));
    }

    return cookieValue;
};

UTILS.setCookie = function (cname, cvalue) {
    var exdays = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 7;

    var d = new Date();
    d.setTime(d.getTime() + exdays * 24 * 60 * 1000);
    var expires = "expires=" + d.toUTCString();
    document.cookie = cname + "=" + cvalue + ";" + expires;
};

UTILS.clearCookie = function (name) {
    UTILS.setCookie(name, "", -1);
};

// 输入框投币额加减的粒度计算
UTILS.addSubHandler = function (type, base, min, max, current) {
    if (type === 'sub') {
        if (current <= 1000) {
            base = -1 * base;
        } else if (current > 1000 && current <= 10000) {
            base = -1000;
            if (current < 2000) {
                base = -250;
            }
        } else if (current > 10000 && current <= 100000) {
            base = -10000;
            if (current < 20000) {
                base = -1000;
            }
        } else if (current > 100000 && current <= 1000000) {
            base = -100000;
            if (current < 200000) {
                base = -10000;
            }
        }
    } else if (type === 'add') {
        if (current >= 1000 && current < 10000) {
            base = 1000;
        } else if (current >= 10000 && current < 100000) {
            base = 10000;
        } else if (current >= 100000) {
            base = 100000;
        }
    }

    current += base;
    current = Math.min(current, max);
    current = Math.max(current, min);

    return current;
};

// 添加千分符
UTILS.addThousandSymbol = function (num) {
    var str = String(num);
    var result = '';
    var count = 0;
    for (var i = str.length - 1; i >= 0; i--) {
        count++;
        result = str.charAt(i) + result;
        if (count % 3 === 0 && i !== 0) {
            result = ',' + result;
        }
    }

    return result;
};

// 转化为万为单位
UTILS.toWanSymbol = function (num) {
    var s = Number(num) / 10000;

    if (s >= 1) {
        return Math.floor(s) + '万';
    } else {
        return num;
    }
};

// 把秒转化为时分秒
UTILS.toDetailTime = function (num) {
    var time = Number(num);
    var days = Math.floor(time / 1440 / 60);
    var hours = Math.floor((time - days * 1440 * 60) / 3600);
    var minutes = Math.floor((time - days * 1440 * 60 - hours * 3600) / 60);
    var seconds = time - days * 1440 * 60 - hours * 3600 - minutes * 60;
    var result = '';
    if (days) result += days + '日';
    if (hours) result += hours + '时';
    if (minutes) result += minutes + '分';
    if (seconds) result += seconds + '秒';

    return result;
};

// 倒计时
UTILS.createTimeCountDown = function () {
    return {
        // 创建 (总时间, 倒计时进行回调， 倒计时结束回调)
        start: function start(time, timeGoingCb, timeOutCb) {
            var _this = this;

            var count = Number(time);

            this.loop = function () {
                if (--count > 0) {
                    timeGoingCb && timeGoingCb(count);
                    Laya.timer.once(1000, _this, _this.loop);
                } else {
                    timeOutCb && timeOutCb();
                    _this.clear();
                }
            };

            this.loop();
        },
        clear: function clear() {
            if (this.loop) {
                Laya.timer.clear(this, this.loop);
                this.loop = null;
            }
        }
    };
};

exports.default = UTILS;

},{}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkc6L0xheWFBaXJJREVfYmV0YS9yZXNvdXJjZXMvYXBwL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvR2FtZUNvbmZpZy5qcyIsInNyYy9NYWluLmpzIiwic3JjL3NjZW5lcy9HYW1lU2NlbmUuanMiLCJzcmMvc2NlbmVzL1N0YXJ0U2NlbmUuanMiLCJzcmMvc2NyaXB0L0J1bGxldC5qcyIsInNyYy9zY3JpcHQvQ29sdW1uLmpzIiwic3JjL3NjcmlwdC9Ecm9wQm94LmpzIiwic3JjL3NjcmlwdC9HYW1lQ29udHJvbC5qcyIsInNyYy9zY3JpcHQvR2FtZUNvbnRyb2xOZXcuanMiLCJzcmMvc2NyaXB0L0dhbWVVSS5qcyIsInNyYy91dGlscy91dGlscy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O3FqQkNWQTs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7Ozs7SUFFcUIsVTs7Ozs7OzsrQkFDSDtBQUNWO0FBQ0EsZ0JBQUksTUFBTSxLQUFLLFVBQUwsQ0FBZ0IsUUFBMUI7QUFDTixnQkFBSSxxQkFBSixFQUEwQixtQkFBMUI7QUFDQSxnQkFBSSwwQkFBSixFQUErQix3QkFBL0I7QUFDQSxnQkFBSSxzQkFBSixFQUEyQixvQkFBM0I7QUFDQSxnQkFBSSxrQkFBSixFQUF1QixnQkFBdkI7QUFDQSxnQkFBSSx1QkFBSixFQUE0QixxQkFBNUI7QUFDQSxnQkFBSSxrQkFBSixFQUF1QixnQkFBdkI7QUFDQSxnQkFBSSxrQkFBSixFQUF1QixnQkFBdkI7QUFDQSxnQkFBSSxtQkFBSixFQUF3QixpQkFBeEI7QUFDRzs7Ozs7O2tCQVpnQixVOztBQWNyQixXQUFXLEtBQVgsR0FBbUIsR0FBbkI7QUFDQSxXQUFXLE1BQVgsR0FBb0IsSUFBcEI7QUFD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QVIsRUFBYTtBQUNULHFCQUFLLEtBQUwsQ0FBVyxLQUFYLENBQWlCLElBQWpCLEVBQXVCLEtBQUssSUFBNUI7QUFDQSxxQkFBSyxJQUFMLEdBQVksSUFBWjtBQUNIO0FBRUo7QUF4QkUsS0FBUDtBQTBCSCxDQTNCRDs7a0JBZ0NlLEsiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG4oZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiLyoqVGhpcyBjbGFzcyBpcyBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlZCBieSBMYXlhQWlySURFLCBwbGVhc2UgZG8gbm90IG1ha2UgYW55IG1vZGlmaWNhdGlvbnMuICovXHJcbmltcG9ydCBHYW1lU2NlbmUgZnJvbSBcIi4vc2NlbmVzL0dhbWVTY2VuZVwiXG5pbXBvcnQgR2FtZUNvbnRyb2xOZXcgZnJvbSBcIi4vc2NyaXB0L0dhbWVDb250cm9sTmV3XCJcbmltcG9ydCBTdGFydFNjZW5lIGZyb20gXCIuL3NjZW5lcy9TdGFydFNjZW5lXCJcbmltcG9ydCBHYW1lVUkgZnJvbSBcIi4vc2NyaXB0L0dhbWVVSVwiXG5pbXBvcnQgR2FtZUNvbnRyb2wgZnJvbSBcIi4vc2NyaXB0L0dhbWVDb250cm9sXCJcbmltcG9ydCBCdWxsZXQgZnJvbSBcIi4vc2NyaXB0L0J1bGxldFwiXG5pbXBvcnQgQ29sdW1uIGZyb20gXCIuL3NjcmlwdC9Db2x1bW5cIlxuaW1wb3J0IERyb3BCb3ggZnJvbSBcIi4vc2NyaXB0L0Ryb3BCb3hcIlxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZUNvbmZpZyB7XHJcbiAgICBzdGF0aWMgaW5pdCgpIHtcclxuICAgICAgICAvL+azqOWGjFNjcmlwdOaIluiAhVJ1bnRpbWXlvJXnlKhcclxuICAgICAgICBsZXQgcmVnID0gTGF5YS5DbGFzc1V0aWxzLnJlZ0NsYXNzO1xyXG5cdFx0cmVnKFwic2NlbmVzL0dhbWVTY2VuZS5qc1wiLEdhbWVTY2VuZSk7XG5cdFx0cmVnKFwic2NyaXB0L0dhbWVDb250cm9sTmV3LmpzXCIsR2FtZUNvbnRyb2xOZXcpO1xuXHRcdHJlZyhcInNjZW5lcy9TdGFydFNjZW5lLmpzXCIsU3RhcnRTY2VuZSk7XG5cdFx0cmVnKFwic2NyaXB0L0dhbWVVSS5qc1wiLEdhbWVVSSk7XG5cdFx0cmVnKFwic2NyaXB0L0dhbWVDb250cm9sLmpzXCIsR2FtZUNvbnRyb2wpO1xuXHRcdHJlZyhcInNjcmlwdC9CdWxsZXQuanNcIixCdWxsZXQpO1xuXHRcdHJlZyhcInNjcmlwdC9Db2x1bW4uanNcIixDb2x1bW4pO1xuXHRcdHJlZyhcInNjcmlwdC9Ecm9wQm94LmpzXCIsRHJvcEJveCk7XHJcbiAgICB9XHJcbn1cclxuR2FtZUNvbmZpZy53aWR0aCA9IDY0MDtcclxuR2FtZUNvbmZpZy5oZWlnaHQgPSAxMTM2O1xyXG5HYW1lQ29uZmlnLnNjYWxlTW9kZSA9XCJmaXhlZGhlaWdodFwiO1xyXG5HYW1lQ29uZmlnLnNjcmVlbk1vZGUgPSBcInZlcnRpY2FsXCI7XHJcbkdhbWVDb25maWcuYWxpZ25WID0gXCJtaWRkbGVcIjtcclxuR2FtZUNvbmZpZy5hbGlnbkggPSBcImNlbnRlclwiO1xyXG5HYW1lQ29uZmlnLnN0YXJ0U2NlbmUgPSBcInRlc3QvU3RhcnRTY2VuZS5zY2VuZVwiO1xyXG5HYW1lQ29uZmlnLnNjZW5lUm9vdCA9IFwiXCI7XHJcbkdhbWVDb25maWcuZGVidWcgPSBmYWxzZTtcclxuR2FtZUNvbmZpZy5zdGF0ID0gZmFsc2U7XHJcbkdhbWVDb25maWcucGh5c2ljc0RlYnVnID0gZmFsc2U7XHJcbkdhbWVDb25maWcuZXhwb3J0U2NlbmVUb0pzb24gPSB0cnVlO1xyXG5cclxuR2FtZUNvbmZpZy5pbml0KCk7XHJcbiIsImltcG9ydCBHYW1lQ29uZmlnIGZyb20gXCIuL0dhbWVDb25maWdcIjtcclxuY2xhc3MgTWFpbiB7XHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHQvL+agueaNrklEReiuvue9ruWIneWni+WMluW8leaTjlx0XHRcclxuXHRcdGlmICh3aW5kb3dbXCJMYXlhM0RcIl0pIExheWEzRC5pbml0KEdhbWVDb25maWcud2lkdGgsIEdhbWVDb25maWcuaGVpZ2h0KTtcclxuXHRcdGVsc2UgTGF5YS5pbml0KEdhbWVDb25maWcud2lkdGgsIEdhbWVDb25maWcuaGVpZ2h0LCBMYXlhW1wiV2ViR0xcIl0pO1xyXG5cdFx0TGF5YVtcIlBoeXNpY3NcIl0gJiYgTGF5YVtcIlBoeXNpY3NcIl0uZW5hYmxlKCk7XHJcblx0XHRMYXlhW1wiRGVidWdQYW5lbFwiXSAmJiBMYXlhW1wiRGVidWdQYW5lbFwiXS5lbmFibGUoKTtcclxuXHRcdExheWEuc3RhZ2Uuc2NhbGVNb2RlID0gR2FtZUNvbmZpZy5zY2FsZU1vZGU7XHJcblx0XHRMYXlhLnN0YWdlLnNjcmVlbk1vZGUgPSBHYW1lQ29uZmlnLnNjcmVlbk1vZGU7XHJcblx0XHRMYXlhLnN0YWdlLmFsaWduViA9IEdhbWVDb25maWcuYWxpZ25WO1xyXG5cdFx0TGF5YS5zdGFnZS5hbGlnbkggPSBHYW1lQ29uZmlnLmFsaWduSDtcclxuXHRcdC8v5YW85a655b6u5L+h5LiN5pSv5oyB5Yqg6L29c2NlbmXlkI7nvIDlnLrmma9cclxuXHRcdExheWEuVVJMLmV4cG9ydFNjZW5lVG9Kc29uID0gR2FtZUNvbmZpZy5leHBvcnRTY2VuZVRvSnNvbjtcclxuXHJcblx0XHQvL+aJk+W8gOiwg+ivlemdouadv++8iOmAmui/h0lEReiuvue9ruiwg+ivleaooeW8j++8jOaIluiAhXVybOWcsOWdgOWinuWKoGRlYnVnPXRydWXlj4LmlbDvvIzlnYflj6/miZPlvIDosIPor5XpnaLmnb/vvIlcclxuXHRcdGlmIChHYW1lQ29uZmlnLmRlYnVnIHx8IExheWEuVXRpbHMuZ2V0UXVlcnlTdHJpbmcoXCJkZWJ1Z1wiKSA9PSBcInRydWVcIikgTGF5YS5lbmFibGVEZWJ1Z1BhbmVsKCk7XHJcblx0XHRpZiAoR2FtZUNvbmZpZy5waHlzaWNzRGVidWcgJiYgTGF5YVtcIlBoeXNpY3NEZWJ1Z0RyYXdcIl0pIExheWFbXCJQaHlzaWNzRGVidWdEcmF3XCJdLmVuYWJsZSgpO1xyXG5cdFx0aWYgKEdhbWVDb25maWcuc3RhdCkgTGF5YS5TdGF0LnNob3coKTtcclxuXHRcdExheWEuYWxlcnRHbG9iYWxFcnJvciA9IHRydWU7XHJcblxyXG5cdFx0Ly/mv4DmtLvotYTmupDniYjmnKzmjqfliLbvvIx2ZXJzaW9uLmpzb27nlLFJREXlj5HluIPlip/og73oh6rliqjnlJ/miJDvvIzlpoLmnpzmsqHmnInkuZ/kuI3lvbHlk43lkI7nu63mtYHnqItcclxuXHRcdExheWEuUmVzb3VyY2VWZXJzaW9uLmVuYWJsZShcInZlcnNpb24uanNvblwiLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIHRoaXMub25WZXJzaW9uTG9hZGVkKSwgTGF5YS5SZXNvdXJjZVZlcnNpb24uRklMRU5BTUVfVkVSU0lPTik7XHJcblx0fVxyXG5cclxuXHRvblZlcnNpb25Mb2FkZWQoKSB7XHJcblx0XHQvL+a/gOa0u+Wkp+Wwj+WbvuaYoOWwhO+8jOWKoOi9veWwj+WbvueahOaXtuWAme+8jOWmguaenOWPkeeOsOWwj+WbvuWcqOWkp+WbvuWQiOmbhumHjOmdou+8jOWImeS8mOWFiOWKoOi9veWkp+WbvuWQiOmbhu+8jOiAjOS4jeaYr+Wwj+WbvlxyXG5cdFx0TGF5YS5BdGxhc0luZm9NYW5hZ2VyLmVuYWJsZShcImZpbGVjb25maWcuanNvblwiLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIHRoaXMub25Db25maWdMb2FkZWQpKTtcclxuXHR9XHJcblxyXG5cdG9uQ29uZmlnTG9hZGVkKCkge1xyXG5cdFx0Ly/liqDovb1JREXmjIflrprnmoTlnLrmma9cclxuXHRcdEdhbWVDb25maWcuc3RhcnRTY2VuZSAmJiBMYXlhLlNjZW5lLm9wZW4oR2FtZUNvbmZpZy5zdGFydFNjZW5lKTtcclxuXHR9XHJcbn1cclxuLy/mv4DmtLvlkK/liqjnsbtcclxubmV3IE1haW4oKTtcclxuIiwiaW1wb3J0IEdhbWVDb250cm9sTmV3IGZyb20gXCIuLi9zY3JpcHQvR2FtZUNvbnRyb2xOZXdcIjtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lU2NlbmUgZXh0ZW5kcyBMYXlhLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgLy/orr7nva7ljZXkvovnmoTlvJXnlKjmlrnlvI/vvIzmlrnkvr/lhbbku5bnsbvlvJXnlKhcclxuICAgICAgICBHYW1lU2NlbmUuaW5zdGFuY2UgPSB0aGlzO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8v5Yqg6L295Zy65pmv5paH5Lu2XHJcbiAgICAgICAgdGhpcy5sb2FkU2NlbmUoXCJ0ZXN0L0dhbWVTY2VuZS5zY2VuZVwiKTtcclxuICAgIH1cclxuXHJcbiAgICBvbkVuYWJsZSgpIHtcclxuICAgICAgICB0aGlzLmdyYXBoaWNzLmRyYXdSZWN0KDAsIDAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCBcIiM5YmRiZWFcIik7XHJcblxyXG4gICAgICAgIHRoaXMuX2NvbnRyb2wgPSB0aGlzLmdldENvbXBvbmVudChHYW1lQ29udHJvbE5ldyk7XHJcblxyXG5cclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coXCJHYW1lU2NlbmUgIG9rXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uQnRuQ2xpY2soKSB7XHJcblxyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuXHJcbn0iLCIvKipcclxuICog5pys56S65L6L6YeH55So6Z2e6ISa5pys55qE5pa55byP5a6e546w77yM6ICM5L2/55So57un5om/6aG16Z2i5Z+657G777yM5a6e546w6aG16Z2i6YC76L6R44CC5ZyoSURF6YeM6Z2i6K6+572u5Zy65pmv55qEUnVudGltZeWxnuaAp+WNs+WPr+WSjOWcuuaZr+i/m+ihjOWFs+iBlFxyXG4gKiDnm7jmr5TohJrmnKzmlrnlvI/vvIznu6fmib/lvI/pobXpnaLnsbvvvIzlj6/ku6Xnm7TmjqXkvb/nlKjpobXpnaLlrprkuYnnmoTlsZ7mgKfvvIjpgJrov4dJREXlhoV2YXLlsZ7mgKflrprkuYnvvInvvIzmr5TlpoJ0aGlzLnRpcExibGzvvIx0aGlzLnNjb3JlTGJs77yM5YW35pyJ5Luj56CB5o+Q56S65pWI5p6cXHJcbiAqIOW7uuiuru+8muWmguaenOaYr+mhtemdoue6p+eahOmAu+i+ke+8jOmcgOimgemikee5geiuv+mXrumhtemdouWGheWkmuS4quWFg+e0oO+8jOS9v+eUqOe7p+aJv+W8j+WGmeazle+8jOWmguaenOaYr+eLrOeri+Wwj+aooeWdl++8jOWKn+iDveWNleS4gO+8jOW7uuiurueUqOiEmuacrOaWueW8j+WunueOsO+8jOavlOWmguWtkOW8ueiEmuacrOOAglxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RhcnRTY2VuZSBleHRlbmRzIExheWEuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICAvL+iuvue9ruWNleS+i+eahOW8leeUqOaWueW8j++8jOaWueS+v+WFtuS7luexu+W8leeUqFxyXG4gICAgICAgIFN0YXJ0U2NlbmUuaW5zdGFuY2UgPSB0aGlzO1xyXG4gICAgICAgIC8v5YWz6Zet5aSa54K56Kem5o6n77yM5ZCm5YiZ5bCx5peg5pWM5LqGXHJcbiAgICAgICAgTGF5YS5Nb3VzZU1hbmFnZXIubXVsdGlUb3VjaEVuYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAvL+WKoOi9veWcuuaZr+aWh+S7tlxyXG4gICAgICAgIHRoaXMubG9hZFNjZW5lKFwidGVzdC9TdGFydFNjZW5lLnNjZW5lXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uRW5hYmxlKCkge1xyXG4gICAgICAgIC8v54K55Ye75o+Q56S65paH5a2X77yM5byA5aeL5ri45oiPXHJcbiAgICAgICAgdGhpcy5idG5fc3RhcnQub24oTGF5YS5FdmVudC5DTElDSywgdGhpcywgdGhpcy5vbkdhbWVTdGFydCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25HYW1lU3RhcnQoKSB7XHJcbiAgICAgICAgTGF5YS5TY2VuZS5vcGVuKFwidGVzdC9HYW1lU2NlbmUuc2NlbmVcIik7XHJcbiAgICB9XHJcblxyXG5cclxufSIsIi8qKlxyXG4gKiDlrZDlvLnohJrmnKzvvIzlrp7njrDlrZDlvLnpo57ooYzpgLvovpHlj4rlr7nosaHmsaDlm57mlLbmnLrliLZcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJ1bGxldCBleHRlbmRzIExheWEuU2NyaXB0IHtcclxuICAgIGNvbnN0cnVjdG9yKCkgeyBzdXBlcigpOyB9XHJcbiAgICBvbkVuYWJsZSgpIHtcclxuICAgICAgICAvL+iuvue9ruWIneWni+mAn+W6plxyXG4gICAgICAgIHZhciByaWcgPSB0aGlzLm93bmVyLmdldENvbXBvbmVudChMYXlhLlJpZ2lkQm9keSk7XHJcbiAgICAgICAgcmlnLnNldFZlbG9jaXR5KHsgeDogMCwgeTogLTEwIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIG9uVHJpZ2dlckVudGVyKG90aGVyLCBzZWxmLCBjb250YWN0KSB7XHJcbiAgICAgICAgLy/lpoLmnpzooqvnorDliLDvvIzliJnnp7vpmaTlrZDlvLlcclxuICAgICAgICB0aGlzLm93bmVyLnJlbW92ZVNlbGYoKTtcclxuICAgIH1cclxuXHJcbiAgICBvblVwZGF0ZSgpIHtcclxuICAgICAgICAvL+WmguaenOWtkOW8uei2heWHuuWxj+W5le+8jOWImeenu+mZpOWtkOW8uVxyXG4gICAgICAgIGlmICh0aGlzLm93bmVyLnkgPCAtMTApIHtcclxuICAgICAgICAgICAgdGhpcy5vd25lci5yZW1vdmVTZWxmKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uRGlzYWJsZSgpIHtcclxuICAgICAgICAvL+WtkOW8ueiiq+enu+mZpOaXtu+8jOWbnuaUtuWtkOW8ueWIsOWvueixoeaxoO+8jOaWueS+v+S4i+asoeWkjeeUqO+8jOWHj+WwkeWvueixoeWIm+W7uuW8gOmUgFxyXG4gICAgICAgIExheWEuUG9vbC5yZWNvdmVyKFwiYnVsbGV0XCIsIHRoaXMub3duZXIpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFVUSUxTIGZyb20gXCIuLi91dGlscy91dGlsc1wiO1xyXG4vKipcclxuICog5p+x5a2QXHJcbiAqL1xyXG5jb25zdCBDT0xVTU5fSEVJR1RIID0gMzAwO1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb2x1bW4gZXh0ZW5kcyBMYXlhLlNjcmlwdCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoKTsgfVxyXG4gICAgXHJcbiAgICBvbkVuYWJsZSgpIHtcclxuICAgICAgICAvLyDog4zmma/mn7HlrZBcclxuICAgICAgICB0aGlzLmRvbV9iZyA9IHRoaXMub3duZXIuZ2V0Q2hpbGRCeU5hbWUoXCJkb21fYmdcIik7XHJcbiAgICAgICAgLy8g57qi5b+DXHJcbiAgICAgICAgdGhpcy5kb21fcmVkID0gdGhpcy5vd25lci5nZXRDaGlsZEJ5TmFtZShcImRvbV9yZWRcIik7XHJcblxyXG4gICAgICAgIC8vIOmaj+acuuWPluafseWtkOWuveW6plxyXG4gICAgICAgIHRoaXMub3duZXIud2lkdGggPSBVVElMUy5yYW5kb21OdW1iZXIoNzAsIDEyMCk7XHJcbiAgICAgICAgdGhpcy5kb21fYmcud2lkdGggPSB0aGlzLm93bmVyLndpZHRoO1xyXG4gICAgICAgIHRoaXMuZG9tX2JnLmhlaWdodCA9IENPTFVNTl9IRUlHVEg7XHJcblxyXG4gICAgICAgIHRoaXMuZG9tX3JlZC5wb3MoKHRoaXMuZG9tX2JnLndpZHRoIC0gdGhpcy5kb21fcmVkLndpZHRoKSAvIDIsIDMpO1xyXG5cclxuICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLm93bmVyLCB0aGlzLm93bmVyLndpZHRoKVxyXG4gICAgfVxyXG5cclxuICAgIHNob3dsb2coKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJhc2RmXCIpXHJcbiAgICB9XHJcblxyXG4gICAgb25VcGRhdGUoKSB7XHJcbiAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBvbkRpc2FibGUoKSB7XHJcbiAgICAgICAgLy/mn7HlrZDooqvnp7vpmaTml7bvvIzlm57mlLbmn7HlrZDliLDlr7nosaHmsaBcclxuICAgICAgICBMYXlhLlBvb2wucmVjb3ZlcihcImNvbHVtblwiLCB0aGlzLm93bmVyKTtcclxuICAgIH1cclxufSIsIu+7v2ltcG9ydCBHYW1lVUkgZnJvbSBcIi4vR2FtZVVJXCI7XHJcbi8qKlxyXG4gKiDmjonokL3nm5LlrZDohJrmnKzvvIzlrp7njrDnm5LlrZDnorDmkp7lj4rlm57mlLbmtYHnqItcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERyb3BCb3ggZXh0ZW5kcyBMYXlhLlNjcmlwdCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoKTsgfVxyXG4gICAgb25FbmFibGUoKSB7XHJcbiAgICAgICAgLyoq6I635b6X57uE5Lu25byV55So77yM6YG/5YWN5q+P5qyh6I635Y+W57uE5Lu25bim5p2l5LiN5b+F6KaB55qE5p+l6K+i5byA6ZSAICovXHJcbiAgICAgICAgdGhpcy5fcmlnID0gdGhpcy5vd25lci5nZXRDb21wb25lbnQoTGF5YS5SaWdpZEJvZHkpO1xyXG4gICAgICAgIC8v55uS5a2Q562J57qnXHJcbiAgICAgICAgdGhpcy5sZXZlbCA9IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDUpICsgMTtcclxuICAgICAgICAvL+etiee6p+aWh+acrOWvueixoeW8leeUqFxyXG4gICAgICAgIHRoaXMuX3RleHQgPSB0aGlzLm93bmVyLmdldENoaWxkQnlOYW1lKFwibGV2ZWxUeHRcIik7XHJcbiAgICAgICAgdGhpcy5fdGV4dC50ZXh0ID0gdGhpcy5sZXZlbCArIFwiXCI7XHJcbiAgICB9XHJcblxyXG4gICAgb25VcGRhdGUoKSB7XHJcbiAgICAgICAgLy/orqnmjIHnu63nm5LlrZDml4vovaxcclxuICAgICAgICB0aGlzLm93bmVyLnJvdGF0aW9uKys7XHJcbiAgICB9XHJcblxyXG4gICAgb25UcmlnZ2VyRW50ZXIob3RoZXIsIHNlbGYsIGNvbnRhY3QpIHtcclxuICAgICAgICB2YXIgb3duZXIgPSB0aGlzLm93bmVyO1xyXG4gICAgICAgIGlmIChvdGhlci5sYWJlbCA9PT0gXCJidXR0bGVcIikge1xyXG4gICAgICAgICAgICAvL+eisOaSnuWIsOWtkOW8ueWQju+8jOWinuWKoOenr+WIhu+8jOaSreaUvuWjsOmfs+eJueaViFxyXG4gICAgICAgICAgICBpZiAodGhpcy5sZXZlbCA+IDEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubGV2ZWwtLTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3RleHQuY2hhbmdlVGV4dCh0aGlzLmxldmVsICsgXCJcIik7XHJcbiAgICAgICAgICAgICAgICBvd25lci5nZXRDb21wb25lbnQoTGF5YS5SaWdpZEJvZHkpLnNldFZlbG9jaXR5KHsgeDogMCwgeTogLTEwIH0pO1xyXG4gICAgICAgICAgICAgICAgTGF5YS5Tb3VuZE1hbmFnZXIucGxheVNvdW5kKFwic291bmQvaGl0LndhdlwiKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChvd25lci5wYXJlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZWZmZWN0ID0gTGF5YS5Qb29sLmdldEl0ZW1CeUNyZWF0ZUZ1bihcImVmZmVjdFwiLCB0aGlzLmNyZWF0ZUVmZmVjdCwgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWZmZWN0LnBvcyhvd25lci54LCBvd25lci55KTtcclxuICAgICAgICAgICAgICAgICAgICBvd25lci5wYXJlbnQuYWRkQ2hpbGQoZWZmZWN0KTtcclxuICAgICAgICAgICAgICAgICAgICBlZmZlY3QucGxheSgwLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICBvd25lci5yZW1vdmVTZWxmKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgTGF5YS5Tb3VuZE1hbmFnZXIucGxheVNvdW5kKFwic291bmQvZGVzdHJveS53YXZcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgR2FtZVVJLmluc3RhbmNlLmFkZFNjb3JlKDEpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAob3RoZXIubGFiZWwgPT09IFwiZ3JvdW5kXCIpIHtcclxuICAgICAgICAgICAgLy/lj6ropoHmnInkuIDkuKrnm5LlrZDnorDliLDlnLDmnb/vvIzliJnlgZzmraLmuLjmiI9cclxuICAgICAgICAgICAgb3duZXIucmVtb3ZlU2VsZigpO1xyXG4gICAgICAgICAgICBHYW1lVUkuaW5zdGFuY2Uuc3RvcEdhbWUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoq5L2/55So5a+56LGh5rGg5Yib5bu654iG54K45Yqo55S7ICovXHJcbiAgICBjcmVhdGVFZmZlY3QoKSB7XHJcbiAgICAgICAgbGV0IGFuaSA9IG5ldyBMYXlhLkFuaW1hdGlvbigpO1xyXG4gICAgICAgIGFuaS5sb2FkQW5pbWF0aW9uKFwidGVzdC9UZXN0QW5pLmFuaVwiKTtcclxuICAgICAgICBhbmkub24oTGF5YS5FdmVudC5DT01QTEVURSwgbnVsbCwgcmVjb3Zlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gcmVjb3ZlcigpIHtcclxuICAgICAgICAgICAgYW5pLnJlbW92ZVNlbGYoKTtcclxuICAgICAgICAgICAgTGF5YS5Qb29sLnJlY292ZXIoXCJlZmZlY3RcIiwgYW5pKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGFuaTtcclxuICAgIH1cclxuXHJcbiAgICBvbkRpc2FibGUoKSB7XHJcbiAgICAgICAgLy/nm5LlrZDooqvnp7vpmaTml7bvvIzlm57mlLbnm5LlrZDliLDlr7nosaHmsaDvvIzmlrnkvr/kuIvmrKHlpI3nlKjvvIzlh4/lsJHlr7nosaHliJvlu7rlvIDplIDjgIJcclxuICAgICAgICBMYXlhLlBvb2wucmVjb3ZlcihcImRyb3BCb3hcIiwgdGhpcy5vd25lcik7XHJcbiAgICB9XHJcbn0iLCJcclxuaW1wb3J0IERyb3BCb3ggZnJvbSBcIi4vRHJvcEJveFwiO1xyXG5pbXBvcnQgQnVsbGV0IGZyb20gXCIuL0J1bGxldFwiO1xyXG4vKipcclxuICog5ri45oiP5o6n5Yi26ISa5pys44CC5a6a5LmJ5LqG5Yeg5LiqZHJvcEJveO+8jGJ1bGxldO+8jGNyZWF0ZUJveEludGVydmFs562J5Y+Y6YeP77yM6IO95aSf5ZyoSURF5pi+56S65Y+K6K6+572u6K+l5Y+Y6YePXHJcbiAqIOabtOWkmuexu+Wei+WumuS5ie+8jOivt+WPguiAg+WumOaWueaWh+aho1xyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZUNvbnRyb2wgZXh0ZW5kcyBMYXlhLlNjcmlwdCB7XHJcbiAgICAvKiogQHByb3Age25hbWU6ZHJvcEJveCx0aXBzOlwi5o6J6JC95a655Zmo6aKE5Yi25L2T5a+56LGhXCIsdHlwZTpQcmVmYWJ9Ki9cclxuICAgIC8qKiBAcHJvcCB7bmFtZTpidWxsZXQsdGlwczpcIuWtkOW8uemihOWItuS9k+WvueixoVwiLHR5cGU6UHJlZmFifSovXHJcbiAgICAvKiogQHByb3Age25hbWU6Y3JlYXRlQm94SW50ZXJ2YWwsdGlwczpcIumXtOmalOWkmuWwkeavq+enkuWIm+W7uuS4gOS4quS4i+i3jOeahOWuueWZqFwiLHR5cGU6aW50LGRlZmF1bHQ6MTAwMH0qL1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkgeyBzdXBlcigpOyB9XHJcbiAgICBvbkVuYWJsZSgpIHtcclxuICAgICAgICAvL+mXtOmalOWkmuWwkeavq+enkuWIm+W7uuS4gOS4quS4i+i3jOeahOWuueWZqFxyXG4gICAgICAgIHRoaXMuY3JlYXRlQm94SW50ZXJ2YWwgPSAxMDAwO1xyXG4gICAgICAgIC8v5byA5aeL5pe26Ze0XHJcbiAgICAgICAgdGhpcy5fdGltZSA9IERhdGUubm93KCk7XHJcbiAgICAgICAgLy/mmK/lkKblt7Lnu4/lvIDlp4vmuLjmiI9cclxuICAgICAgICB0aGlzLl9zdGFydGVkID0gZmFsc2U7XHJcbiAgICAgICAgLy/lrZDlvLnlkoznm5LlrZDmiYDlnKjnmoTlrrnlmajlr7nosaFcclxuICAgICAgICB0aGlzLl9nYW1lQm94ID0gdGhpcy5vd25lci5nZXRDaGlsZEJ5TmFtZShcImdhbWVCb3hcIik7XHJcbiAgICAgICAgdGhpcy5jcmVhdGVCb3goKTtcclxuICAgIH1cclxuXHJcbiAgICBvblVwZGF0ZSgpIHtcclxuICAgICAgICAvL+avj+mXtOmalOS4gOauteaXtumXtOWIm+W7uuS4gOS4quebkuWtkFxyXG4gICAgICAgIGxldCBub3cgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIGlmIChub3cgLSB0aGlzLl90aW1lID4gdGhpcy5jcmVhdGVCb3hJbnRlcnZhbCkge1xyXG4gICAgICAgICAgICB0aGlzLl90aW1lID0gbm93O1xyXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUJveCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVCb3goKSB7XHJcbiAgICAgICAgLy/kvb/nlKjlr7nosaHmsaDliJvlu7rnm5LlrZBcclxuICAgICAgICBsZXQgYm94ID0gTGF5YS5Qb29sLmdldEl0ZW1CeUNyZWF0ZUZ1bihcImRyb3BCb3hcIiwgdGhpcy5kcm9wQm94LmNyZWF0ZSwgdGhpcy5kcm9wQm94KTtcclxuICAgICAgICBib3gucG9zKE1hdGgucmFuZG9tKCkgKiAoTGF5YS5zdGFnZS53aWR0aCAtIDEwMCksIC0xMDApO1xyXG4gICAgICAgIHRoaXMuX2dhbWVCb3guYWRkQ2hpbGQoYm94KTtcclxuICAgIH1cclxuXHJcbiAgICBvblN0YWdlQ2xpY2soZSkge1xyXG4gICAgICAgIC8v5YGc5q2i5LqL5Lu25YaS5rOh77yM5o+Q6auY5oCn6IO977yM5b2T54S25Lmf5Y+v5Lul5LiN6KaBXHJcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAvL+iInuWPsOiiq+eCueWHu+WQju+8jOS9v+eUqOWvueixoeaxoOWIm+W7uuWtkOW8uVxyXG4gICAgICAgIGxldCBmbHllciA9IExheWEuUG9vbC5nZXRJdGVtQnlDcmVhdGVGdW4oXCJidWxsZXRcIiwgdGhpcy5idWxsZXQuY3JlYXRlLCB0aGlzLmJ1bGxldCk7XHJcbiAgICAgICAgZmx5ZXIucG9zKExheWEuc3RhZ2UubW91c2VYLCBMYXlhLnN0YWdlLm1vdXNlWSk7XHJcbiAgICAgICAgdGhpcy5fZ2FtZUJveC5hZGRDaGlsZChmbHllcik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoq5byA5aeL5ri45oiP77yM6YCa6L+H5r+A5rS75pys6ISa5pys5pa55byP5byA5aeL5ri45oiPKi9cclxuICAgIHN0YXJ0R2FtZSgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuX3N0YXJ0ZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fc3RhcnRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuZW5hYmxlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKue7k+adn+a4uOaIj++8jOmAmui/h+mdnua/gOa0u+acrOiEmuacrOWBnOatoua4uOaIjyAqL1xyXG4gICAgc3RvcEdhbWUoKSB7XHJcbiAgICAgICAgdGhpcy5fc3RhcnRlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuY3JlYXRlQm94SW50ZXJ2YWwgPSAxMDAwO1xyXG4gICAgICAgIHRoaXMuX2dhbWVCb3gucmVtb3ZlQ2hpbGRyZW4oKTtcclxuICAgIH1cclxufSIsImltcG9ydCBVVElMUyBmcm9tIFwiLi4vdXRpbHMvdXRpbHNcIjtcclxuXHJcbi8qKlxyXG4gKiDmuLjmiI/mjqfliLbohJrmnKzjgILlrprkuYnkuoblh6DkuKpkcm9wQm9477yMYnVsbGV077yMY3JlYXRlQm94SW50ZXJ2YWznrYnlj5jph4/vvIzog73lpJ/lnKhJREXmmL7npLrlj4rorr7nva7or6Xlj5jph49cclxuICog5pu05aSa57G75Z6L5a6a5LmJ77yM6K+35Y+C6ICD5a6Y5pa55paH5qGjXHJcbiAqL1xyXG4vKirotbflp4vmqKrlnZDmoIcqL1xyXG5jb25zdCBPUklHSU5fWCA9IDUwO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZUNvbnRyb2wgZXh0ZW5kcyBMYXlhLlNjcmlwdCB7XHJcbiAgICAvKiogQHByb3Age25hbWU6Y29sdW1uLHRpcHM6XCLnlJ/miJDnmoTmn7HlrZBcIix0eXBlOlByZWZhYn0qL1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkgeyBzdXBlcigpOyB9XHJcbiAgICBvbkVuYWJsZSgpIHtcclxuICAgICAgICB0aGlzLl9kb21fZ2FtZUJveCA9IHRoaXMub3duZXIuZ2V0Q2hpbGRCeU5hbWUoXCJkb21fZ2FtZWJveFwiKTtcclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBvblVwZGF0ZSgpIHtcclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVDb2x1bW4oKSB7XHJcbiAgICAgICAgLy/kvb/nlKjlr7nosaHmsaDliJvlu7rnm5LlrZBcclxuICAgICAgICBsZXQgYm94ID0gTGF5YS5Qb29sLmdldEl0ZW1CeUNyZWF0ZUZ1bihcImNvbHVtblwiLCB0aGlzLmNvbHVtbi5jcmVhdGUsIHRoaXMuY29sdW1uKTtcclxuICAgICAgICBpZiAodGhpcy5fZG9tX2dhbWVCb3gubnVtQ2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgbGV0IGxhc3RfYm94ID0gdGhpcy5fZG9tX2dhbWVCb3guZ2V0Q2hpbGRBdCh0aGlzLl9kb21fZ2FtZUJveC5udW1DaGlsZHJlbiAtIDEpO1xyXG4gICAgICAgICAgICBib3gueCA9IGxhc3RfYm94LnggKyBsYXN0X2JveC53aWR0aCArIFVUSUxTLnJhbmRvbU51bWJlcig4MCwgMjUwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fZG9tX2dhbWVCb3guYWRkQ2hpbGQoYm94KTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLl9kb21fZ2FtZUJveC53aWR0aClcclxuICAgIH1cclxuICAgIFxyXG4gICAgb25TdGFnZUNsaWNrKGUpIHtcclxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmICh0aGlzLl9kb21fZ2FtZUJveC5udW1DaGlsZHJlbikge1xyXG4gICAgICAgICAgICBsZXQgbGFzdF9ib3ggPSB0aGlzLl9kb21fZ2FtZUJveC5nZXRDaGlsZEF0KHRoaXMuX2RvbV9nYW1lQm94Lm51bUNoaWxkcmVuIC0gMSk7XHJcbiAgICAgICAgICAgIExheWEuVHdlZW4udG8odGhpcy5fZG9tX2dhbWVCb3gsIHsgeDogbGFzdF9ib3gueCAqIC0xIH0sIDMwMCwgTGF5YS5FYXNlLmxpbmVhckluLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIHRoaXMuY3JlYXRlQ29sdW1uKSlcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5jcmVhdGVDb2x1bW4oKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuXHJcbn0iLCJpbXBvcnQgR2FtZUNvbnRyb2wgZnJvbSBcIi4vR2FtZUNvbnRyb2xcIlxyXG4vKipcclxuICog5pys56S65L6L6YeH55So6Z2e6ISa5pys55qE5pa55byP5a6e546w77yM6ICM5L2/55So57un5om/6aG16Z2i5Z+657G777yM5a6e546w6aG16Z2i6YC76L6R44CC5ZyoSURF6YeM6Z2i6K6+572u5Zy65pmv55qEUnVudGltZeWxnuaAp+WNs+WPr+WSjOWcuuaZr+i/m+ihjOWFs+iBlFxyXG4gKiDnm7jmr5TohJrmnKzmlrnlvI/vvIznu6fmib/lvI/pobXpnaLnsbvvvIzlj6/ku6Xnm7TmjqXkvb/nlKjpobXpnaLlrprkuYnnmoTlsZ7mgKfvvIjpgJrov4dJREXlhoV2YXLlsZ7mgKflrprkuYnvvInvvIzmr5TlpoJ0aGlzLnRpcExibGzvvIx0aGlzLnNjb3JlTGJs77yM5YW35pyJ5Luj56CB5o+Q56S65pWI5p6cXHJcbiAqIOW7uuiuru+8muWmguaenOaYr+mhtemdoue6p+eahOmAu+i+ke+8jOmcgOimgemikee5geiuv+mXrumhtemdouWGheWkmuS4quWFg+e0oO+8jOS9v+eUqOe7p+aJv+W8j+WGmeazle+8jOWmguaenOaYr+eLrOeri+Wwj+aooeWdl++8jOWKn+iDveWNleS4gO+8jOW7uuiurueUqOiEmuacrOaWueW8j+WunueOsO+8jOavlOWmguWtkOW8ueiEmuacrOOAglxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZVVJIGV4dGVuZHMgTGF5YS5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIC8v6K6+572u5Y2V5L6L55qE5byV55So5pa55byP77yM5pa55L6/5YW25LuW57G75byV55SoXHJcbiAgICAgICAgR2FtZVVJLmluc3RhbmNlID0gdGhpcztcclxuICAgICAgICAvL+WFs+mXreWkmueCueinpuaOp++8jOWQpuWImeWwseaXoOaVjOS6hlxyXG4gICAgICAgIExheWEuTW91c2VNYW5hZ2VyLm11bHRpVG91Y2hFbmFibGVkID0gZmFsc2U7XHJcbiAgICAgICAgLy/liqDovb3lnLrmma/mlofku7ZcclxuICAgICAgICB0aGlzLmxvYWRTY2VuZShcInRlc3QvVGVzdFNjZW5lLnNjZW5lXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uRW5hYmxlKCkge1xyXG4gICAgICAgIC8v5oiP5o6n5Yi26ISa5pys5byV55So77yM6YG/5YWN5q+P5qyh6I635Y+W57uE5Lu25bim5p2l5LiN5b+F6KaB55qE5oCn6IO95byA6ZSAXHJcbiAgICAgICAgdGhpcy5fY29udHJvbCA9IHRoaXMuZ2V0Q29tcG9uZW50KEdhbWVDb250cm9sKTtcclxuICAgICAgICAvL+eCueWHu+aPkOekuuaWh+Wtl++8jOW8gOWni+a4uOaIj1xyXG4gICAgICAgIHRoaXMudGlwTGJsbC5vbihMYXlhLkV2ZW50LkNMSUNLLCB0aGlzLCB0aGlzLm9uVGlwQ2xpY2spO1xyXG4gICAgfVxyXG5cclxuICAgIG9uVGlwQ2xpY2soZSkge1xyXG4gICAgICAgIHRoaXMudGlwTGJsbC52aXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5fc2NvcmUgPSAwO1xyXG4gICAgICAgIHRoaXMuc2NvcmVMYmwudGV4dCA9IFwiXCI7XHJcbiAgICAgICAgdGhpcy5fY29udHJvbC5zdGFydEdhbWUoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKirlop7liqDliIbmlbAgKi9cclxuICAgIGFkZFNjb3JlKHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5fc2NvcmUgKz0gdmFsdWU7XHJcbiAgICAgICAgdGhpcy5zY29yZUxibC5jaGFuZ2VUZXh0KFwi5YiG5pWw77yaXCIgKyB0aGlzLl9zY29yZSk7XHJcbiAgICAgICAgLy/pmo/nnYDliIbmlbDotorpq5jvvIzpmr7luqblop7lpKdcclxuICAgICAgICBpZiAodGhpcy5fY29udHJvbC5jcmVhdGVCb3hJbnRlcnZhbCA+IDYwMCAmJiB0aGlzLl9zY29yZSAlIDIwID09IDApIHRoaXMuX2NvbnRyb2wuY3JlYXRlQm94SW50ZXJ2YWwgLT0gMjA7XHJcbiAgICB9XHJcblxyXG4gICAgLyoq5YGc5q2i5ri45oiPICovXHJcbiAgICBzdG9wR2FtZSgpIHtcclxuICAgICAgICB0aGlzLnRpcExibGwudmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy50aXBMYmxsLnRleHQgPSBcIua4uOaIj+e7k+adn+S6hu+8jOeCueWHu+Wxj+W5lemHjeaWsOW8gOWni1wiO1xyXG4gICAgICAgIHRoaXMuX2NvbnRyb2wuc3RvcEdhbWUoKTtcclxuICAgIH1cclxufSIsIi8v5bel5YW3XHJcbmNvbnN0IFVUSUxTID0ge307XHJcblxyXG5cclxuLy8g5piv5ZCm5omT5Y2w5L+h5oGvXHJcblVUSUxTLmluaXREZWJ1ZyA9IChrZXksIHZhbCkgPT4ge1xyXG4gICAgbGV0IGFyciA9IGxvY2F0aW9uLnNlYXJjaC5zbGljZSgxKS5zcGxpdCgnJicpO1xyXG4gICAgbGV0IHJlc3VsdCA9IGZhbHNlO1xyXG4gICAgYXJyLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgICBsZXQgbGlzdCA9IGl0ZW0uc3BsaXQoJz0nKTtcclxuICAgICAgICBpZiAobGlzdFswXSA9PT0ga2V5ICYmIGxpc3RbMV0gPT09IHZhbCkge1xyXG4gICAgICAgICAgICByZXN1bHQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH0pXHJcblxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuLy/nlJ/kuqcwLW51beiMg+WbtOeahOmaj+acuuaVsFxyXG5VVElMUy5yYW5kb21OdW1iZXIgPSAobjEsIG4yKSA9PiB7XHJcbiAgICBsZXQgc3RhcnQgPSBuMSxcclxuICAgICAgICBlbmQgPSBuMjtcclxuICAgIGlmICh0eXBlb2YgbjIgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgc3RhcnQgPSAwO1xyXG4gICAgICAgIGVuZCA9IG4xO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIChlbmQgLSBzdGFydCkgKyBzdGFydCk7XHJcbn1cclxuXHJcbi8v55m75b2VXHJcblVUSUxTLmdvdG9Mb2dpbiA9ICgpID0+IHtcclxuICAgIGxvY2F0aW9uLmhyZWYgPSBHTS51c2VyTG9naW5Vcmw7XHJcbn1cclxuXHJcblxyXG4vLyBvdHDpqozor4FcclxuVVRJTFMub3RwQ2hlY2tIYW5kbGVyID0gKCkgPT4ge1xyXG4gICAgbG9jYXRpb24uaHJlZiA9IFwiLz9hY3Q9b3RwJnN0PW90cFBhZ2VcIjtcclxufVxyXG5cclxuVVRJTFMud2lsbEdvdG9Mb2dpbiA9ICgpID0+IHtcclxuICAgIGlmICghVVRJTFMuY2hlY2tMb2dpblN0YXR1cygpKSB7XHJcbiAgICAgICAgVVRJTFMuZ290b0xvZ2luKCk7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIOafpeeci+WIq+WkhOa4uOaIj+W4gVxyXG5VVElMUy5jaGVja090aGVyWXhiID0gKCkgPT4ge1xyXG4gICAgaWYgKHdpbmRvdy5HTSAmJiBHTS53aGVyZVl4Yikge1xyXG4gICAgICAgIEdNLndoZXJlWXhiKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8v6I635Y+W5a2X56ym5Liy6ZW/5bqm77yM5pSv5oyB5Lit5paHXHJcblVUSUxTLmdldFN0cmluZ0xlbmd0aCA9IChzdHIgPSAnJykgPT4ge1xyXG4gICAgcmV0dXJuIChcIlwiICsgc3RyLnJlcGxhY2UoL1teXFx4MDAtXFx4ZmZdL2dpLCBcIm94XCIpKS5sZW5ndGg7XHJcbn1cclxuXHJcbi8vIOaIquWPluWtl+espumVv+W6pumZkOWItuS7peWGheeahOWtl+esplxyXG5VVElMUy5nZXRBY3RpdmVTdHIgPSAoc3RyID0gJycsIHRvdGFsID0gOCkgPT4ge1xyXG4gICAgbGV0IHJlYWxMZW5ndGggPSAwO1xyXG4gICAgc3RyID0gU3RyaW5nKHN0cik7XHJcbiAgICBsZXQgbGVuID0gc3RyLmxlbmd0aDtcclxuICAgIGxldCByZXN1bHQgPSAnJztcclxuICAgIGlmIChsZW4gPT09IDApIHtcclxuICAgICAgICByZXR1cm4gJyc7XHJcbiAgICB9XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgaWYgKHN0ci5jaGFyQ29kZUF0KGkpID4gMTI4KSB7XHJcbiAgICAgICAgICAgIHJlYWxMZW5ndGggKz0gMjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZWFsTGVuZ3RoICs9IDE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChyZWFsTGVuZ3RoID4gdG90YWwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdCArICcuLi4nO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXN1bHQgPSByZXN1bHQgKyBzdHIuY2hhckF0KGkpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuLy8g5rex5bqm5YWL6ZqGXHJcblVUSUxTLmV4dGVuZERlZXAgPSAocGFyZW50LCBjaGlsZCkgPT4ge1xyXG4gICAgdmFyIGNoaWxkID0gY2hpbGQgfHwge307XHJcbiAgICB2YXIgX3Rvc3RyID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcclxuICAgIGZvciAodmFyIGtleSBpbiBwYXJlbnQpIHtcclxuICAgICAgICBpZiAocGFyZW50Lmhhc093blByb3BlcnR5KGtleSkpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBfdmFsID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgICAgICAgY2hpbGRba2V5XSA9IChfdG9zdHIuY2FsbChwYXJlbnRba2V5XSkgPT09ICdbb2JqZWN0IEFycmF5XScpID8gW10gOiB7fTtcclxuICAgICAgICAgICAgICAgIGV4dGVuZERlZXAocGFyZW50W2tleV0sIGNoaWxkW2tleV0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY2hpbGRba2V5XSA9IHBhcmVudFtrZXldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNoaWxkO1xyXG59XHJcblxyXG4vLyDov5DooYzml7bpl7RcclxuVVRJTFMucnVubmluZ1RpbWUgPSAoZm4pID0+IHtcclxuICAgIGxldCB0aW1lMSA9IERhdGUubm93KCk7XHJcbiAgICBmbigpO1xyXG4gICAgbGV0IHRpbWUyID0gRGF0ZS5ub3coKTtcclxuXHJcbiAgICBjb25zb2xlLmxvZyh0aW1lMiAtIHRpbWUxKTtcclxufVxyXG5cclxuVVRJTFMuZ2V0Q29va2llID0gKG5hbWUpID0+IHtcclxuICAgIHZhciBjb29raWVOYW1lID0gZW5jb2RlVVJJQ29tcG9uZW50KG5hbWUpICsgXCI9XCIsXHJcbiAgICAgICAgY29va2llU3RhcnQgPSBkb2N1bWVudC5jb29raWUuaW5kZXhPZihjb29raWVOYW1lKSxcclxuICAgICAgICBjb29raWVWYWx1ZSA9IG51bGw7XHJcblxyXG4gICAgaWYgKGNvb2tpZVN0YXJ0ID4gLTEpIHtcclxuICAgICAgICB2YXIgY29va2llRW5kID0gZG9jdW1lbnQuY29va2llLmluZGV4T2YoXCI7XCIsIGNvb2tpZVN0YXJ0KVxyXG4gICAgICAgIGlmIChjb29raWVFbmQgPT0gLTEpIHtcclxuICAgICAgICAgICAgY29va2llRW5kID0gZG9jdW1lbnQuY29va2llLmxlbmd0aDtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29va2llVmFsdWUgPSBkZWNvZGVVUklDb21wb25lbnQoZG9jdW1lbnQuY29va2llLnN1YnN0cmluZyhjb29raWVTdGFydCArIGNvb2tpZU5hbWUubGVuZ3RoLCBjb29raWVFbmQpKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gY29va2llVmFsdWU7XHJcbn1cclxuXHJcblVUSUxTLnNldENvb2tpZSA9IChjbmFtZSwgY3ZhbHVlLCBleGRheXMgPSA3KSA9PiB7XHJcbiAgICBsZXQgZCA9IG5ldyBEYXRlKCk7XHJcbiAgICBkLnNldFRpbWUoZC5nZXRUaW1lKCkgKyAoZXhkYXlzICogMjQgKiA2MCAqIDEwMDApKTtcclxuICAgIGxldCBleHBpcmVzID0gXCJleHBpcmVzPVwiICsgZC50b1VUQ1N0cmluZygpO1xyXG4gICAgZG9jdW1lbnQuY29va2llID0gY25hbWUgKyBcIj1cIiArIGN2YWx1ZSArIFwiO1wiICsgZXhwaXJlcztcclxufVxyXG5cclxuVVRJTFMuY2xlYXJDb29raWUgPSAobmFtZSkgPT4ge1xyXG4gICAgVVRJTFMuc2V0Q29va2llKG5hbWUsIFwiXCIsIC0xKTtcclxufVxyXG5cclxuLy8g6L6T5YWl5qGG5oqV5biB6aKd5Yqg5YeP55qE57KS5bqm6K6h566XXHJcblVUSUxTLmFkZFN1YkhhbmRsZXIgPSAodHlwZSwgYmFzZSwgbWluLCBtYXgsIGN1cnJlbnQpID0+IHtcclxuICAgIGlmICh0eXBlID09PSAnc3ViJykge1xyXG4gICAgICAgIGlmIChjdXJyZW50IDw9IDEwMDApIHtcclxuICAgICAgICAgICAgYmFzZSA9IC0xICogYmFzZTtcclxuICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnQgPiAxMDAwICYmIGN1cnJlbnQgPD0gMTAwMDApIHtcclxuICAgICAgICAgICAgYmFzZSA9IC0xMDAwO1xyXG4gICAgICAgICAgICBpZiAoY3VycmVudCA8IDIwMDApIHtcclxuICAgICAgICAgICAgICAgIGJhc2UgPSAtMjUwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50ID4gMTAwMDAgJiYgY3VycmVudCA8PSAxMDAwMDApIHtcclxuICAgICAgICAgICAgYmFzZSA9IC0xMDAwMDtcclxuICAgICAgICAgICAgaWYgKGN1cnJlbnQgPCAyMDAwMCkge1xyXG4gICAgICAgICAgICAgICAgYmFzZSA9IC0xMDAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50ID4gMTAwMDAwICYmIGN1cnJlbnQgPD0gMTAwMDAwMCkge1xyXG4gICAgICAgICAgICBiYXNlID0gLTEwMDAwMDtcclxuICAgICAgICAgICAgaWYgKGN1cnJlbnQgPCAyMDAwMDApIHtcclxuICAgICAgICAgICAgICAgIGJhc2UgPSAtMTAwMDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnYWRkJykge1xyXG4gICAgICAgIGlmIChjdXJyZW50ID49IDEwMDAgJiYgY3VycmVudCA8IDEwMDAwKSB7XHJcbiAgICAgICAgICAgIGJhc2UgPSAxMDAwO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoY3VycmVudCA+PSAxMDAwMCAmJiBjdXJyZW50IDwgMTAwMDAwKSB7XHJcbiAgICAgICAgICAgIGJhc2UgPSAxMDAwMDtcclxuICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnQgPj0gMTAwMDAwKSB7XHJcbiAgICAgICAgICAgIGJhc2UgPSAxMDAwMDA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGN1cnJlbnQgKz0gYmFzZTtcclxuICAgIGN1cnJlbnQgPSBNYXRoLm1pbihjdXJyZW50LCBtYXgpO1xyXG4gICAgY3VycmVudCA9IE1hdGgubWF4KGN1cnJlbnQsIG1pbik7XHJcblxyXG4gICAgcmV0dXJuIGN1cnJlbnQ7XHJcbn1cclxuXHJcbi8vIOa3u+WKoOWNg+WIhuesplxyXG5VVElMUy5hZGRUaG91c2FuZFN5bWJvbCA9IChudW0pID0+IHtcclxuICAgIGxldCBzdHIgPSBTdHJpbmcobnVtKTtcclxuICAgIGxldCByZXN1bHQgPSAnJztcclxuICAgIGxldCBjb3VudCA9IDA7XHJcbiAgICBmb3IgKGxldCBpID0gc3RyLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgY291bnQrKztcclxuICAgICAgICByZXN1bHQgPSBzdHIuY2hhckF0KGkpICsgcmVzdWx0O1xyXG4gICAgICAgIGlmIChjb3VudCAlIDMgPT09IDAgJiYgaSAhPT0gMCkge1xyXG4gICAgICAgICAgICByZXN1bHQgPSAnLCcgKyByZXN1bHQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbi8vIOi9rOWMluS4uuS4h+S4uuWNleS9jVxyXG5VVElMUy50b1dhblN5bWJvbCA9IChudW0pID0+IHtcclxuICAgIGxldCBzID0gTnVtYmVyKG51bSkgLyAxMDAwMDtcclxuXHJcbiAgICBpZiAocyA+PSAxKSB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IocykgKyAn5LiHJztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIG51bTtcclxuICAgIH1cclxufVxyXG5cclxuLy8g5oqK56eS6L2s5YyW5Li65pe25YiG56eSXHJcblVUSUxTLnRvRGV0YWlsVGltZSA9IChudW0pID0+IHtcclxuICAgIHZhciB0aW1lID0gTnVtYmVyKG51bSk7XHJcbiAgICB2YXIgZGF5cyA9IE1hdGguZmxvb3IodGltZSAvIDE0NDAgLyA2MCk7XHJcbiAgICB2YXIgaG91cnMgPSBNYXRoLmZsb29yKCh0aW1lIC0gZGF5cyAqIDE0NDAgKiA2MCkgLyAzNjAwKTtcclxuICAgIHZhciBtaW51dGVzID0gTWF0aC5mbG9vcigodGltZSAtIGRheXMgKiAxNDQwICogNjAgLSBob3VycyAqIDM2MDApIC8gNjApO1xyXG4gICAgdmFyIHNlY29uZHMgPSAodGltZSAtIGRheXMgKiAxNDQwICogNjAgLSBob3VycyAqIDM2MDAgLSBtaW51dGVzICogNjApO1xyXG4gICAgdmFyIHJlc3VsdCA9ICcnO1xyXG4gICAgaWYgKGRheXMpIHJlc3VsdCArPSBkYXlzICsgJ+aXpSc7XHJcbiAgICBpZiAoaG91cnMpIHJlc3VsdCArPSBob3VycyArICfml7YnO1xyXG4gICAgaWYgKG1pbnV0ZXMpIHJlc3VsdCArPSBtaW51dGVzICsgJ+WIhic7XHJcbiAgICBpZiAoc2Vjb25kcykgcmVzdWx0ICs9IHNlY29uZHMgKyAn56eSJztcclxuXHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG4vLyDlgJLorqHml7ZcclxuVVRJTFMuY3JlYXRlVGltZUNvdW50RG93biA9IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICAvLyDliJvlu7ogKOaAu+aXtumXtCwg5YCS6K6h5pe26L+b6KGM5Zue6LCD77yMIOWAkuiuoeaXtue7k+adn+WbnuiwgylcclxuICAgICAgICBzdGFydCh0aW1lLCB0aW1lR29pbmdDYiwgdGltZU91dENiKSB7XHJcbiAgICAgICAgICAgIGxldCBjb3VudCA9IE51bWJlcih0aW1lKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubG9vcCA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICgtLWNvdW50ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRpbWVHb2luZ0NiICYmIHRpbWVHb2luZ0NiKGNvdW50KTtcclxuICAgICAgICAgICAgICAgICAgICBMYXlhLnRpbWVyLm9uY2UoMTAwMCwgdGhpcywgdGhpcy5sb29wKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRpbWVPdXRDYiAmJiB0aW1lT3V0Q2IoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsZWFyKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMubG9vcCgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY2xlYXIoKSB7XHJcbiAgICAgICAgICAgIGlmKHRoaXMubG9vcCl7XHJcbiAgICAgICAgICAgICAgICBMYXlhLnRpbWVyLmNsZWFyKHRoaXMsIHRoaXMubG9vcCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvb3AgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuXHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgVVRJTFM7XHJcbiJdfQ==
