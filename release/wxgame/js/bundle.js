var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
				value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /**This class is automatically generated by LayaAirIDE, please do not make any modifications. */


var _StartScene = require("./scenes/StartScene");

var _StartScene2 = _interopRequireDefault(_StartScene);

var _RunningBall = require("./scenes/RunningBall");

var _RunningBall2 = _interopRequireDefault(_RunningBall);

var _Angle = require("./script/Angle");

var _Angle2 = _interopRequireDefault(_Angle);

var _People = require("./script/People");

var _People2 = _interopRequireDefault(_People);

var _Star = require("./script/Star");

var _Star2 = _interopRequireDefault(_Star);

var _GameUI = require("./script/GameUI");

var _GameUI2 = _interopRequireDefault(_GameUI);

var _GameControl = require("./script/GameControl");

var _GameControl2 = _interopRequireDefault(_GameControl);

var _Bullet = require("./script/Bullet");

var _Bullet2 = _interopRequireDefault(_Bullet);

var _DropBox = require("./script/DropBox");

var _DropBox2 = _interopRequireDefault(_DropBox);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var GameConfig = function () {
				function GameConfig() {
								_classCallCheck(this, GameConfig);
				}

				_createClass(GameConfig, null, [{
								key: "init",
								value: function init() {
												//注册Script或者Runtime引用
												var reg = Laya.ClassUtils.regClass;
												reg("scenes/StartScene.js", _StartScene2.default);
												reg("scenes/RunningBall.js", _RunningBall2.default);
												reg("script/Angle.js", _Angle2.default);
												reg("script/People.js", _People2.default);
												reg("script/Star.js", _Star2.default);
												reg("script/GameUI.js", _GameUI2.default);
												reg("script/GameControl.js", _GameControl2.default);
												reg("script/Bullet.js", _Bullet2.default);
												reg("script/DropBox.js", _DropBox2.default);
								}
				}]);

				return GameConfig;
}();

exports.default = GameConfig;

GameConfig.width = 640;
GameConfig.height = 1136;
GameConfig.scaleMode = "fixedwidth";
GameConfig.screenMode = "none";
GameConfig.alignV = "top";
GameConfig.alignH = "left";
GameConfig.startScene = "test/StartScene.scene";
GameConfig.sceneRoot = "";
GameConfig.debug = false;
GameConfig.stat = false;
GameConfig.physicsDebug = false;
GameConfig.exportSceneToJson = true;

GameConfig.init();

},{"./scenes/RunningBall":3,"./scenes/StartScene":4,"./script/Angle":5,"./script/Bullet":6,"./script/DropBox":7,"./script/GameControl":8,"./script/GameUI":9,"./script/People":10,"./script/Star":11}],2:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _GameConfig = require("./GameConfig");

var _GameConfig2 = _interopRequireDefault(_GameConfig);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Main = function () {
	function Main() {
		_classCallCheck(this, Main);

		//根据IDE设置初始化引擎		
		if (window["Laya3D"]) Laya3D.init(_GameConfig2.default.width, _GameConfig2.default.height);else Laya.init(_GameConfig2.default.width, _GameConfig2.default.height, Laya["WebGL"]);
		Laya["Physics"] && Laya["Physics"].enable();
		Laya["DebugPanel"] && Laya["DebugPanel"].enable();
		Laya.stage.scaleMode = _GameConfig2.default.scaleMode;
		Laya.stage.screenMode = _GameConfig2.default.screenMode;
		Laya.stage.alignV = _GameConfig2.default.alignV;
		Laya.stage.alignH = _GameConfig2.default.alignH;
		//兼容微信不支持加载scene后缀场景
		Laya.URL.exportSceneToJson = _GameConfig2.default.exportSceneToJson;

		//打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）
		if (_GameConfig2.default.debug || Laya.Utils.getQueryString("debug") == "true") Laya.enableDebugPanel();
		if (_GameConfig2.default.physicsDebug && Laya["PhysicsDebugDraw"]) Laya["PhysicsDebugDraw"].enable();
		if (_GameConfig2.default.stat) Laya.Stat.show();
		Laya.alertGlobalError = true;

		//激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程
		Laya.ResourceVersion.enable("version.json", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);
	}

	_createClass(Main, [{
		key: "onVersionLoaded",
		value: function onVersionLoaded() {
			//激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图
			Laya.AtlasInfoManager.enable("fileconfig.json", Laya.Handler.create(this, this.onConfigLoaded));
		}
	}, {
		key: "onConfigLoaded",
		value: function onConfigLoaded() {
			//加载IDE指定的场景
			_GameConfig2.default.startScene && Laya.Scene.open(_GameConfig2.default.startScene);
		}
	}]);

	return Main;
}();
//激活启动类


new Main();

},{"./GameConfig":1}],3:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * 游戏控制脚本。定义了几个dropBox，bullet，createBoxInterval等变量，能够在IDE显示及设置该变量
 * 更多类型定义，请参考官方文档
 */
var RunningBall = function (_Laya$Script) {
    _inherits(RunningBall, _Laya$Script);

    /** @prop {name:angle,tips:"每次增加多少度",type:number,default:0.1}*/
    /** @prop {name:item,tips:"子项小三角",type:Prefab}*/

    function RunningBall() {
        _classCallCheck(this, RunningBall);

        return _possibleConstructorReturn(this, (RunningBall.__proto__ || Object.getPrototypeOf(RunningBall)).call(this));
    }

    _createClass(RunningBall, [{
        key: "onEnable",
        value: function onEnable() {
            this._stop = false;
            this._btn = this.owner.getChildByName("btn_start");
            this._box = this.owner.getChildByName("dom_box");
            this._btn.on(Laya.Event.CLICK, this, this.clickHandler);
        }
    }, {
        key: "clickHandler",
        value: function clickHandler() {
            this._stop = !this._stop;
            // let _item = Laya.Pool.getItemByCreateFun("item", this.item.create, this.item);
            // _item.x = 50 * this._box.numChildren;
            // _item.getChildByName("dom_text").text = this._btn.rotation;
            // this._box.addChild(_item);
        }
    }, {
        key: "onUpdate",
        value: function onUpdate() {
            if (!this._stop) {
                this._btn.rotation += this.angle;
            }
        }
    }, {
        key: "onStageClick",
        value: function onStageClick(e) {
            //停止事件冒泡，提高性能，当然也可以不要
            e.stopPropagation();

            // console.log("click666")
        }
    }]);

    return RunningBall;
}(Laya.Script);

exports.default = RunningBall;

},{}],4:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _RunningBall = require("./RunningBall");

var _RunningBall2 = _interopRequireDefault(_RunningBall);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var StartScene = function (_Laya$Scene) {
    _inherits(StartScene, _Laya$Scene);

    function StartScene() {
        _classCallCheck(this, StartScene);

        //设置单例的引用方式，方便其他类引用
        var _this = _possibleConstructorReturn(this, (StartScene.__proto__ || Object.getPrototypeOf(StartScene)).call(this));

        StartScene.instance = _this;
        //关闭多点触控，否则就无敌了
        Laya.MouseManager.multiTouchEnabled = false;
        //加载场景文件
        _this.loadScene("test/StartScene.scene");
        return _this;
    }

    _createClass(StartScene, [{
        key: "onEnable",
        value: function onEnable() {
            // this._runningBall = this.getComponent(RunningBall);

        }
    }]);

    return StartScene;
}(Laya.Scene);

exports.default = StartScene;

},{"./RunningBall":3}],5:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * 三角形
 */
var Angle = function (_Laya$Script) {
    _inherits(Angle, _Laya$Script);

    /** @prop {name:shape,tips:"图形地址",type:String}*/
    /** @prop {name:des,tips:"内容说明",type:String}*/

    function Angle() {
        _classCallCheck(this, Angle);

        return _possibleConstructorReturn(this, (Angle.__proto__ || Object.getPrototypeOf(Angle)).call(this));
    }

    _createClass(Angle, [{
        key: "onEnable",
        value: function onEnable() {
            this._text = this.owner.getChildByName("dom_text");
            this._text.text = this.des;

            this._angle = this.owner.getChildByName("dom_angle");
            this._angle.skin = this.shape;

            this.owner.on("click", this, this.showLog);
        }
    }, {
        key: "onUpdate",
        value: function onUpdate() {
            // this._text.text  = "2222"
        }
    }, {
        key: "setText",
        value: function setText(str) {
            this._text = str;
        }
    }, {
        key: "showLog",
        value: function showLog(e) {
            //停止事件冒泡，提高性能，当然也可以不要
            e.stopPropagation();

            console.log(this.des);
        }
    }]);

    return Angle;
}(Laya.Script);

exports.default = Angle;

},{}],6:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * 子弹脚本，实现子弹飞行逻辑及对象池回收机制
 */
var Bullet = function (_Laya$Script) {
    _inherits(Bullet, _Laya$Script);

    function Bullet() {
        _classCallCheck(this, Bullet);

        return _possibleConstructorReturn(this, (Bullet.__proto__ || Object.getPrototypeOf(Bullet)).call(this));
    }

    _createClass(Bullet, [{
        key: "onEnable",
        value: function onEnable() {
            //设置初始速度
            var rig = this.owner.getComponent(Laya.RigidBody);
            rig.setVelocity({ x: 0, y: -10 });
        }
    }, {
        key: "onTriggerEnter",
        value: function onTriggerEnter(other, self, contact) {
            //如果被碰到，则移除子弹
            this.owner.removeSelf();
        }
    }, {
        key: "onUpdate",
        value: function onUpdate() {
            //如果子弹超出屏幕，则移除子弹
            if (this.owner.y < -10) {
                this.owner.removeSelf();
            }
        }
    }, {
        key: "onDisable",
        value: function onDisable() {
            //子弹被移除时，回收子弹到对象池，方便下次复用，减少对象创建开销
            Laya.Pool.recover("bullet", this.owner);
        }
    }]);

    return Bullet;
}(Laya.Script);

exports.default = Bullet;

},{}],7:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _GameUI = require("./GameUI");

var _GameUI2 = _interopRequireDefault(_GameUI);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * 掉落盒子脚本，实现盒子碰撞及回收流程
 */
var DropBox = function (_Laya$Script) {
    _inherits(DropBox, _Laya$Script);

    function DropBox() {
        _classCallCheck(this, DropBox);

        return _possibleConstructorReturn(this, (DropBox.__proto__ || Object.getPrototypeOf(DropBox)).call(this));
    }

    _createClass(DropBox, [{
        key: "onEnable",
        value: function onEnable() {
            /**获得组件引用，避免每次获取组件带来不必要的查询开销 */
            this._rig = this.owner.getComponent(Laya.RigidBody);
            //盒子等级
            this.level = Math.round(Math.random() * 5) + 1;
            //等级文本对象引用
            this._text = this.owner.getChildByName("levelTxt");
            this._text.text = this.level + "";
        }
    }, {
        key: "onUpdate",
        value: function onUpdate() {
            //让持续盒子旋转
            this.owner.rotation++;
        }
    }, {
        key: "onTriggerEnter",
        value: function onTriggerEnter(other, self, contact) {
            var owner = this.owner;
            if (other.label === "buttle") {
                //碰撞到子弹后，增加积分，播放声音特效
                if (this.level > 1) {
                    this.level--;
                    this._text.changeText(this.level + "");
                    owner.getComponent(Laya.RigidBody).setVelocity({ x: 0, y: -10 });
                    Laya.SoundManager.playSound("sound/hit.wav");
                } else {
                    if (owner.parent) {
                        var effect = Laya.Pool.getItemByCreateFun("effect", this.createEffect, this);
                        effect.pos(owner.x, owner.y);
                        owner.parent.addChild(effect);
                        effect.play(0, true);
                        owner.removeSelf();
                        Laya.SoundManager.playSound("sound/destroy.wav");
                    }
                }
                _GameUI2.default.instance.addScore(1);
            } else if (other.label === "ground") {
                //只要有一个盒子碰到地板，则停止游戏
                owner.removeSelf();
                _GameUI2.default.instance.stopGame();
            }
        }

        /**使用对象池创建爆炸动画 */

    }, {
        key: "createEffect",
        value: function createEffect() {
            var ani = new Laya.Animation();
            ani.loadAnimation("test/TestAni.ani");
            ani.on(Laya.Event.COMPLETE, null, recover);
            function recover() {
                ani.removeSelf();
                Laya.Pool.recover("effect", ani);
            }
            return ani;
        }
    }, {
        key: "onDisable",
        value: function onDisable() {
            //盒子被移除时，回收盒子到对象池，方便下次复用，减少对象创建开销。
            Laya.Pool.recover("dropBox", this.owner);
        }
    }]);

    return DropBox;
}(Laya.Script);

exports.default = DropBox;

},{"./GameUI":9}],8:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _DropBox = require("./DropBox");

var _DropBox2 = _interopRequireDefault(_DropBox);

var _Bullet = require("./Bullet");

var _Bullet2 = _interopRequireDefault(_Bullet);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * 游戏控制脚本。定义了几个dropBox，bullet，createBoxInterval等变量，能够在IDE显示及设置该变量
 * 更多类型定义，请参考官方文档
 */
var GameControl = function (_Laya$Script) {
    _inherits(GameControl, _Laya$Script);

    /** @prop {name:dropBox,tips:"掉落容器预制体对象",type:Prefab}*/
    /** @prop {name:bullet,tips:"子弹预制体对象",type:Prefab}*/
    /** @prop {name:createBoxInterval,tips:"间隔多少毫秒创建一个下跌的容器",type:int,default:1000}*/

    function GameControl() {
        _classCallCheck(this, GameControl);

        return _possibleConstructorReturn(this, (GameControl.__proto__ || Object.getPrototypeOf(GameControl)).call(this));
    }

    _createClass(GameControl, [{
        key: "onEnable",
        value: function onEnable() {
            //间隔多少毫秒创建一个下跌的容器
            this.createBoxInterval = 1000;
            //开始时间
            this._time = Date.now();
            //是否已经开始游戏
            this._started = false;
            //子弹和盒子所在的容器对象
            this._gameBox = this.owner.getChildByName("gameBox");
            this.createBox();
        }
    }, {
        key: "onUpdate",
        value: function onUpdate() {
            //每间隔一段时间创建一个盒子
            var now = Date.now();
            if (now - this._time > this.createBoxInterval) {
                this._time = now;
                this.createBox();
            }
        }
    }, {
        key: "createBox",
        value: function createBox() {
            //使用对象池创建盒子
            var box = Laya.Pool.getItemByCreateFun("dropBox", this.dropBox.create, this.dropBox);
            box.pos(Math.random() * (Laya.stage.width - 100), -100);
            this._gameBox.addChild(box);
            console.log(111);
        }
    }, {
        key: "onStageClick",
        value: function onStageClick(e) {
            //停止事件冒泡，提高性能，当然也可以不要
            e.stopPropagation();
            //舞台被点击后，使用对象池创建子弹
            var flyer = Laya.Pool.getItemByCreateFun("bullet", this.bullet.create, this.bullet);
            flyer.pos(Laya.stage.mouseX, Laya.stage.mouseY);
            this._gameBox.addChild(flyer);
        }

        /**开始游戏，通过激活本脚本方式开始游戏*/

    }, {
        key: "startGame",
        value: function startGame() {
            if (!this._started) {
                this._started = true;
                this.enabled = true;
            }
        }

        /**结束游戏，通过非激活本脚本停止游戏 */

    }, {
        key: "stopGame",
        value: function stopGame() {
            this._started = false;
            this.enabled = false;
            this.createBoxInterval = 1000;
            this._gameBox.removeChildren();
        }
    }]);

    return GameControl;
}(Laya.Script);

exports.default = GameControl;

},{"./Bullet":6,"./DropBox":7}],9:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _GameControl = require("./GameControl");

var _GameControl2 = _interopRequireDefault(_GameControl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * 本示例采用非脚本的方式实现，而使用继承页面基类，实现页面逻辑。在IDE里面设置场景的Runtime属性即可和场景进行关联
 * 相比脚本方式，继承式页面类，可以直接使用页面定义的属性（通过IDE内var属性定义），比如this.tipLbll，this.scoreLbl，具有代码提示效果
 * 建议：如果是页面级的逻辑，需要频繁访问页面内多个元素，使用继承式写法，如果是独立小模块，功能单一，建议用脚本方式实现，比如子弹脚本。
 */
var GameUI = function (_Laya$Scene) {
    _inherits(GameUI, _Laya$Scene);

    function GameUI() {
        _classCallCheck(this, GameUI);

        //设置单例的引用方式，方便其他类引用
        var _this = _possibleConstructorReturn(this, (GameUI.__proto__ || Object.getPrototypeOf(GameUI)).call(this));

        GameUI.instance = _this;
        //关闭多点触控，否则就无敌了
        Laya.MouseManager.multiTouchEnabled = false;
        //加载场景文件
        _this.loadScene("test/TestScene.scene");
        return _this;
    }

    _createClass(GameUI, [{
        key: "onEnable",
        value: function onEnable() {
            //戏控制脚本引用，避免每次获取组件带来不必要的性能开销
            this._control = this.getComponent(_GameControl2.default);
            //点击提示文字，开始游戏
            this.tipLbll.on(Laya.Event.CLICK, this, this.onTipClick);
        }
    }, {
        key: "onTipClick",
        value: function onTipClick(e) {
            this.tipLbll.visible = false;
            this._score = 0;
            this.scoreLbl.text = "";
            this._control.startGame();
        }

        /**增加分数 */

    }, {
        key: "addScore",
        value: function addScore(value) {
            this._score += value;
            this.scoreLbl.changeText("分数：" + this._score);
            //随着分数越高，难度增大
            if (this._control.createBoxInterval > 600 && this._score % 20 == 0) this._control.createBoxInterval -= 20;
        }

        /**停止游戏 */

    }, {
        key: "stopGame",
        value: function stopGame() {
            this.tipLbll.visible = true;
            this.tipLbll.text = "游戏结束了，点击屏幕重新开始";
            this._control.stopGame();
        }
    }]);

    return GameUI;
}(Laya.Scene);

exports.default = GameUI;

},{"./GameControl":8}],10:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * 人物
 */
var People = function (_Laya$Script) {
    _inherits(People, _Laya$Script);

    function People() {
        _classCallCheck(this, People);

        return _possibleConstructorReturn(this, (People.__proto__ || Object.getPrototypeOf(People)).call(this));
    }

    _createClass(People, [{
        key: "onEnable",
        value: function onEnable() {
            this.num = 0;
            this.owner.on(Laya.Event.CLICK, this, this.addText);
        }
    }, {
        key: "addText",
        value: function addText() {
            this.num++;
            this.owner.getChildByName("dom_text").index = String(this.num % 10);
            console.log("click");
        }
    }]);

    return People;
}(Laya.Script);

exports.default = People;

},{}],11:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * 三角形
 */
var Star = function (_Laya$Script) {
    _inherits(Star, _Laya$Script);

    /** @prop {name:num,tips:"每次旋转的角度",type:int}*/

    function Star() {
        _classCallCheck(this, Star);

        return _possibleConstructorReturn(this, (Star.__proto__ || Object.getPrototypeOf(Star)).call(this));
    }

    _createClass(Star, [{
        key: "onEnable",
        value: function onEnable() {}
    }, {
        key: "onUpdate",
        value: function onUpdate() {
            this.owner.rotation += this.num;
        }
    }]);

    return Star;
}(Laya.Script);

exports.default = Star;

},{}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkU6L0xheWFBaXJJREVfYmV0YS9yZXNvdXJjZXMvYXBwL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvR2FtZUNvbmZpZy5qcyIsInNyYy9NYWluLmpzIiwic3JjL3NjZW5lcy9SdW5uaW5nQmFsbC5qcyIsInNyYy9zY2VuZXMvU3RhcnRTY2VuZS5qcyIsInNyYy9zY3JpcHQvQW5nbGUuanMiLCJzcmMvc2NyaXB0L0J1bGxldC5qcyIsInNyYy9zY3JpcHQvRHJvcEJveC5qcyIsInNyYy9zY3JpcHQvR2FtZUNvbnRyb2wuanMiLCJzcmMvc2NyaXB0L0dhbWVVSS5qcyIsInNyYy9zY3JpcHQvUGVvcGxlLmpzIiwic3JjL3NjcmlwdC9TdGFyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7cWpCQ1ZBOzs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7Ozs7O0lBRXFCLFU7Ozs7Ozs7K0JBQ0g7QUFDVjtBQUNBLGdCQUFJLE1BQU0sS0FBSyxVQUFMLENBQWdCLFFBQTFCO0FBQ04sZ0JBQUksc0JBQUosRUFBMkIsb0JBQTNCO0FBQ0EsZ0JBQUksdUJBQUosRUFBNEIscUJBQTVCO0FBQ0EsZ0JBQUksaUJBQUosRUFBc0IsZUFBdEI7QUFDQSxnQkFBSSxrQkFBSixFQUF1QixnQkFBdkI7QUFDQSxnQkFBSSxnQkFBSixFQUFxQixjQUFyQjtBQUNBLGdCQUFJLGtCQUFKLEVBQXVCLGdCQUF2QjtBQUNBLGdCQUFJLHVCQUFKLEVBQTRCLHFCQUE1QjtBQUNBLGdCQUFJLGtCQUFKLEVBQXVCLGdCQUF2QjtBQUNBLGdCQUFJLG1CQUFKLEVBQXdCLGlCQUF4QjtBQUNHOzs7Ozs7a0JBYmdCLFU7O0FBZXJCLFdBQVcsS0FBWCxHQUFtQixHQUFuQjtB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TTs7a0JBQXBCLE07Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSHJCOzs7SUFHcUIsSTs7O0FBQ2pCOztBQUVBLG9CQUFjO0FBQUE7O0FBQUE7QUFBWTs7OzttQ0FDZixDQUVWOzs7bUNBRVU7QUFDUCxpQkFBSyxLQUFMLENBQVcsUUFBWCxJQUF1QixLQUFLLEdBQTVCO0FBQ0g7Ozs7RUFWNkIsS0FBSyxNOztrQkFBbEIsSSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCIvKipUaGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGJ5IExheWFBaXJJREUsIHBsZWFzZSBkbyBub3QgbWFrZSBhbnkgbW9kaWZpY2F0aW9ucy4gKi9cclxuaW1wb3J0IFN0YXJ0U2NlbmUgZnJvbSBcIi4vc2NlbmVzL1N0YXJ0U2NlbmVcIlxuaW1wb3J0IFJ1bm5pbmdCYWxsIGZyb20gXCIuL3NjZW5lcy9SdW5uaW5nQmFsbFwiXG5pbXBvcnQgQW5nbGUgZnJvbSBcIi4vc2NyaXB0L0FuZ2xlXCJcbmltcG9ydCBQZW9wbGUgZnJvbSBcIi4vc2NyaXB0L1Blb3BsZVwiXG5pbXBvcnQgU3RhciBmcm9tIFwiLi9zY3JpcHQvU3RhclwiXG5pbXBvcnQgR2FtZVVJIGZyb20gXCIuL3NjcmlwdC9HYW1lVUlcIlxuaW1wb3J0IEdhbWVDb250cm9sIGZyb20gXCIuL3NjcmlwdC9HYW1lQ29udHJvbFwiXG5pbXBvcnQgQnVsbGV0IGZyb20gXCIuL3NjcmlwdC9CdWxsZXRcIlxuaW1wb3J0IERyb3BCb3ggZnJvbSBcIi4vc2NyaXB0L0Ryb3BCb3hcIlxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZUNvbmZpZyB7XHJcbiAgICBzdGF0aWMgaW5pdCgpIHtcclxuICAgICAgICAvL+azqOWGjFNjcmlwdOaIluiAhVJ1bnRpbWXlvJXnlKhcclxuICAgICAgICBsZXQgcmVnID0gTGF5YS5DbGFzc1V0aWxzLnJlZ0NsYXNzO1xyXG5cdFx0cmVnKFwic2NlbmVzL1N0YXJ0U2NlbmUuanNcIixTdGFydFNjZW5lKTtcblx0XHRyZWcoXCJzY2VuZXMvUnVubmluZ0JhbGwuanNcIixSdW5uaW5nQmFsbCk7XG5cdFx0cmVnKFwic2NyaXB0L0FuZ2xlLmpzXCIsQW5nbGUpO1xuXHRcdHJlZyhcInNjcmlwdC9QZW9wbGUuanNcIixQZW9wbGUpO1xuXHRcdHJlZyhcInNjcmlwdC9TdGFyLmpzXCIsU3Rhcik7XG5cdFx0cmVnKFwic2NyaXB0L0dhbWVVSS5qc1wiLEdhbWVVSSk7XG5cdFx0cmVnKFwic2NyaXB0L0dhbWVDb250cm9sLmpzXCIsR2FtZUNvbnRyb2wpO1xuXHRcdHJlZyhcInNjcmlwdC9CdWxsZXQuanNcIixCdWxsZXQpO1xuXHRcdHJlZyhcInNjcmlwdC9Ecm9wQm94LmpzXCIsRHJvcEJveCk7XHJcbiAgICB9XHJcbn1cclxuR2FtZUNvbmZpZy53aWR0aCA9IDY0MDtcclxuR2FtZUNvbmZpZy5oZWlnaHQgPSAxMTM2O1xyXG5HYW1lQ29uZmlnLnNjYWxlTW9kZSA9XCJmaXhlZHdpZHRoXCI7XHJcbkdhbWVDb25maWcuc2NyZWVuTW9kZSA9IFwibm9uZVwiO1xyXG5HYW1lQ29uZmlnLmFsaWduViA9IFwidG9wXCI7XHJcbkdhbWVDb25maWcuYWxpZ25IID0gXCJsZWZ0XCI7XHJcbkdhbWVDb25maWcuc3RhcnRTY2VuZSA9IFwidGVzdC9TdGFydFNjZW5lLnNjZW5lXCI7XHJcbkdhbWVDb25maWcuc2NlbmVSb290ID0gXCJcIjtcclxuR2FtZUNvbmZpZy5kZWJ1ZyA9IGZhbHNlO1xyXG5HYW1lQ29uZmlnLnN0YXQgPSBmYWxzZTtcclxuR2FtZUNvbmZpZy5waHlzaWNzRGVidWcgPSBmYWxzZTtcclxuR2FtZUNvbmZpZy5leHBvcnRTY2VuZVRvSnNvbiA9IHRydWU7XHJcblxyXG5HYW1lQ29uZmlnLmluaXQoKTtcclxuIiwiaW1wb3J0IEdhbWVDb25maWcgZnJvbSBcIi4vR2FtZUNvbmZpZ1wiO1xyXG5jbGFzcyBNYWluIHtcclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdC8v5qC55o2uSURF6K6+572u5Yid5aeL5YyW5byV5pOOXHRcdFxyXG5cdFx0aWYgKHdpbmRvd1tcIkxheWEzRFwiXSkgTGF5YTNELmluaXQoR2FtZUNvbmZpZy53aWR0aCwgR2FtZUNvbmZpZy5oZWlnaHQpO1xyXG5cdFx0ZWxzZSBMYXlhLmluaXQoR2FtZUNvbmZpZy53aWR0aCwgR2FtZUNvbmZpZy5oZWlnaHQsIExheWFbXCJXZWJHTFwiXSk7XHJcblx0XHRMYXlhW1wiUGh5c2ljc1wiXSAmJiBMYXlhW1wiUGh5c2ljc1wiXS5lbmFibGUoKTtcclxuXHRcdExheWFbXCJEZWJ1Z1BhbmVsXCJdICYmIExheWFbXCJEZWJ1Z1BhbmVsXCJdLmVuYWJsZSgpO1xyXG5cdFx0TGF5YS5zdGFnZS5zY2FsZU1vZGUgPSBHYW1lQ29uZmlnLnNjYWxlTW9kZTtcclxuXHRcdExheWEuc3RhZ2Uuc2NyZWVuTW9kZSA9IEdhbWVDb25maWcuc2NyZWVuTW9kZTtcclxuXHRcdExheWEuc3RhZ2UuYWxpZ25WID0gR2FtZUNvbmZpZy5hbGlnblY7XHJcblx0XHRMYXlhLnN0YWdlLmFsaWduSCA9IEdhbWVDb25maWcuYWxpZ25IO1xyXG5cdFx0Ly/lhbzlrrnlvq7kv6HkuI3mlK/mjIHliqDovb1zY2VuZeWQjue8gOWcuuaZr1xyXG5cdFx0TGF5YS5VUkwuZXhwb3J0U2NlbmVUb0pzb24gPSBHYW1lQ29uZmlnLmV4cG9ydFNjZW5lVG9Kc29uO1xyXG5cclxuXHRcdC8v5omT5byA6LCD6K+V6Z2i5p2/77yI6YCa6L+HSURF6K6+572u6LCD6K+V5qih5byP77yM5oiW6ICFdXJs5Zyw5Z2A5aKe5YqgZGVidWc9dHJ1ZeWPguaVsO+8jOWdh+WPr+aJk+W8gOiwg+ivlemdouadv++8iVxyXG5cdFx0aWYgKEdhbWVDb25maWcuZGVidWcgfHwgTGF5YS5VdGlscy5nZXRRdWVyeVN0cmluZyhcImRlYnVnXCIpID09IFwidHJ1ZVwiKSBMYXlhLmVuYWJsZURlYnVnUGFuZWwoKTtcclxuXHRcdGlmIChHYW1lQ29uZmlnLnBoeXNpY3NEZWJ1ZyAmJiBMYXlhW1wiUGh5c2ljc0RlYnVnRHJhd1wiXSkgTGF5YVtcIlBoeXNpY3NEZWJ1Z0RyYXdcIl0uZW5hYmxlKCk7XHJcblx0XHRpZiAoR2FtZUNvbmZpZy5zdGF0KSBMYXlhLlN0YXQuc2hvdygpO1xyXG5cdFx0TGF5YS5hbGVydEdsb2JhbEVycm9yID0gdHJ1ZTtcclxuXHJcblx0XHQvL+a/gOa0u+i1hOa6kOeJiOacrOaOp+WItu+8jHZlcnNpb24uanNvbueUsUlEReWPkeW4g+WKn+iDveiHquWKqOeUn+aIkO+8jOWmguaenOayoeacieS5n+S4jeW9seWTjeWQjue7rea1geeoi1xyXG5cdFx0TGF5YS5SZXNvdXJjZVZlcnNpb24uZW5hYmxlKFwidmVyc2lvbi5qc29uXCIsIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgdGhpcy5vblZlcnNpb25Mb2FkZWQpLCBMYXlhLlJlc291cmNlVmVyc2lvbi5GSUxFTkFNRV9WRVJTSU9OKTtcclxuXHR9XHJcblxyXG5cdG9uVmVyc2lvbkxvYWRlZCgpIHtcclxuXHRcdC8v5r+A5rS75aSn5bCP5Zu+5pig5bCE77yM5Yqg6L295bCP5Zu+55qE5pe25YCZ77yM5aaC5p6c5Y+R546w5bCP5Zu+5Zyo5aSn5Zu+5ZCI6ZuG6YeM6Z2i77yM5YiZ5LyY5YWI5Yqg6L295aSn5Zu+5ZCI6ZuG77yM6ICM5LiN5piv5bCP5Zu+XHJcblx0XHRMYXlhLkF0bGFzSW5mb01hbmFnZXIuZW5hYmxlKFwiZmlsZWNvbmZpZy5qc29uXCIsIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgdGhpcy5vbkNvbmZpZ0xvYWRlZCkpO1xyXG5cdH1cclxuXHJcblx0b25Db25maWdMb2FkZWQoKSB7XHJcblx0XHQvL+WKoOi9vUlEReaMh+WumueahOWcuuaZr1xyXG5cdFx0R2FtZUNvbmZpZy5zdGFydFNjZW5lICYmIExheWEuU2NlbmUub3BlbihHYW1lQ29uZmlnLnN0YXJ0U2NlbmUpO1xyXG5cdH1cclxufVxyXG4vL+a/gOa0u+WQr+WKqOexu1xyXG5uZXcgTWFpbigpO1xyXG4iLCIvKipcclxuICog5ri45oiP5o6n5Yi26ISa5pys44CC5a6a5LmJ5LqG5Yeg5LiqZHJvcEJveO+8jGJ1bGxldO+8jGNyZWF0ZUJveEludGVydmFs562J5Y+Y6YeP77yM6IO95aSf5ZyoSURF5pi+56S65Y+K6K6+572u6K+l5Y+Y6YePXHJcbiAqIOabtOWkmuexu+Wei+WumuS5ie+8jOivt+WPguiAg+WumOaWueaWh+aho1xyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUnVubmluZ0JhbGwgZXh0ZW5kcyBMYXlhLlNjcmlwdCB7XHJcbiAgICAvKiogQHByb3Age25hbWU6YW5nbGUsdGlwczpcIuavj+asoeWinuWKoOWkmuWwkeW6plwiLHR5cGU6bnVtYmVyLGRlZmF1bHQ6MC4xfSovXHJcbiAgICAvKiogQHByb3Age25hbWU6aXRlbSx0aXBzOlwi5a2Q6aG55bCP5LiJ6KeSXCIsdHlwZTpQcmVmYWJ9Ki9cclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoKTsgfVxyXG4gICAgb25FbmFibGUoKSB7XHJcbiAgICAgICAgdGhpcy5fc3RvcCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuX2J0biA9IHRoaXMub3duZXIuZ2V0Q2hpbGRCeU5hbWUoXCJidG5fc3RhcnRcIik7XHJcbiAgICAgICAgdGhpcy5fYm94ID0gdGhpcy5vd25lci5nZXRDaGlsZEJ5TmFtZShcImRvbV9ib3hcIik7XHJcbiAgICAgICAgdGhpcy5fYnRuLm9uKExheWEuRXZlbnQuQ0xJQ0ssIHRoaXMsIHRoaXMuY2xpY2tIYW5kbGVyKTtcclxuICAgIH1cclxuXHJcbiAgICBjbGlja0hhbmRsZXIoKSB7XHJcbiAgICAgICAgdGhpcy5fc3RvcCA9ICF0aGlzLl9zdG9wO1xyXG4gICAgICAgIC8vIGxldCBfaXRlbSA9IExheWEuUG9vbC5nZXRJdGVtQnlDcmVhdGVGdW4oXCJpdGVtXCIsIHRoaXMuaXRlbS5jcmVhdGUsIHRoaXMuaXRlbSk7XHJcbiAgICAgICAgLy8gX2l0ZW0ueCA9IDUwICogdGhpcy5fYm94Lm51bUNoaWxkcmVuO1xyXG4gICAgICAgIC8vIF9pdGVtLmdldENoaWxkQnlOYW1lKFwiZG9tX3RleHRcIikudGV4dCA9IHRoaXMuX2J0bi5yb3RhdGlvbjtcclxuICAgICAgICAvLyB0aGlzLl9ib3guYWRkQ2hpbGQoX2l0ZW0pO1xyXG4gICAgfVxyXG5cclxuICAgIG9uVXBkYXRlKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5fc3RvcCkge1xyXG4gICAgICAgICAgICB0aGlzLl9idG4ucm90YXRpb24gKz0gdGhpcy5hbmdsZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25TdGFnZUNsaWNrKGUpIHtcclxuICAgICAgICAvL+WBnOatouS6i+S7tuWGkuazoe+8jOaPkOmrmOaAp+iDve+8jOW9k+eEtuS5n+WPr+S7peS4jeimgVxyXG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiY2xpY2s2NjZcIilcclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgIFxyXG59IiwiaW1wb3J0IFJ1bm5pbmdCYWxsIGZyb20gXCIuL1J1bm5pbmdCYWxsXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdGFydFNjZW5lIGV4dGVuZHMgTGF5YS5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIC8v6K6+572u5Y2V5L6L55qE5byV55So5pa55byP77yM5pa55L6/5YW25LuW57G75byV55SoXHJcbiAgICAgICAgU3RhcnRTY2VuZS5pbnN0YW5jZSA9IHRoaXM7XHJcbiAgICAgICAgLy/lhbPpl63lpJrngrnop6bmjqfvvIzlkKbliJnlsLHml6DmlYzkuoZcclxuICAgICAgICBMYXlhLk1vdXNlTWFuYWdlci5tdWx0aVRvdWNoRW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIC8v5Yqg6L295Zy65pmv5paH5Lu2XHJcbiAgICAgICAgdGhpcy5sb2FkU2NlbmUoXCJ0ZXN0L1N0YXJ0U2NlbmUuc2NlbmVcIik7XHJcbiAgICB9XHJcblxyXG4gICAgb25FbmFibGUoKSB7XHJcbiAgICAgICAgLy8gdGhpcy5fcnVubmluZ0JhbGwgPSB0aGlzLmdldENvbXBvbmVudChSdW5uaW5nQmFsbCk7XHJcblxyXG4gICAgfVxyXG59IiwiLyoqXHJcbiAqIOS4ieinkuW9olxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQW5nbGUgZXh0ZW5kcyBMYXlhLlNjcmlwdCB7XHJcbiAgICAvKiogQHByb3Age25hbWU6c2hhcGUsdGlwczpcIuWbvuW9ouWcsOWdgFwiLHR5cGU6U3RyaW5nfSovXHJcbiAgICAvKiogQHByb3Age25hbWU6ZGVzLHRpcHM6XCLlhoXlrrnor7TmmI5cIix0eXBlOlN0cmluZ30qL1xyXG5cclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoKTsgfVxyXG4gICAgb25FbmFibGUoKSB7XHJcbiAgICAgICAgdGhpcy5fdGV4dCA9IHRoaXMub3duZXIuZ2V0Q2hpbGRCeU5hbWUoXCJkb21fdGV4dFwiKTtcclxuICAgICAgICB0aGlzLl90ZXh0LnRleHQgPSB0aGlzLmRlcztcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLl9hbmdsZSA9IHRoaXMub3duZXIuZ2V0Q2hpbGRCeU5hbWUoXCJkb21fYW5nbGVcIik7XHJcbiAgICAgICAgdGhpcy5fYW5nbGUuc2tpbiA9IHRoaXMuc2hhcGU7XHJcblxyXG4gICAgICAgIHRoaXMub3duZXIub24oXCJjbGlja1wiLCB0aGlzLCB0aGlzLnNob3dMb2cpXHJcbiAgICB9XHJcblxyXG4gICAgb25VcGRhdGUoKSB7XHJcbiAgICAgICAgLy8gdGhpcy5fdGV4dC50ZXh0ICA9IFwiMjIyMlwiXHJcbiAgICB9XHJcblxyXG4gICAgc2V0VGV4dChzdHIpIHtcclxuICAgICAgICB0aGlzLl90ZXh0ID0gc3RyO1xyXG4gICAgfVxyXG5cclxuICAgIHNob3dMb2coZSkge1xyXG4gICAgICAgIC8v5YGc5q2i5LqL5Lu25YaS5rOh77yM5o+Q6auY5oCn6IO977yM5b2T54S25Lmf5Y+v5Lul5LiN6KaBXHJcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5kZXMpO1xyXG5cclxuICAgIH1cclxufSIsIi8qKlxyXG4gKiDlrZDlvLnohJrmnKzvvIzlrp7njrDlrZDlvLnpo57ooYzpgLvovpHlj4rlr7nosaHmsaDlm57mlLbmnLrliLZcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJ1bGxldCBleHRlbmRzIExheWEuU2NyaXB0IHtcclxuICAgIGNvbnN0cnVjdG9yKCkgeyBzdXBlcigpOyB9XHJcbiAgICBvbkVuYWJsZSgpIHtcclxuICAgICAgICAvL+iuvue9ruWIneWni+mAn+W6plxyXG4gICAgICAgIHZhciByaWcgPSB0aGlzLm93bmVyLmdldENvbXBvbmVudChMYXlhLlJpZ2lkQm9keSk7XHJcbiAgICAgICAgcmlnLnNldFZlbG9jaXR5KHsgeDogMCwgeTogLTEwIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIG9uVHJpZ2dlckVudGVyKG90aGVyLCBzZWxmLCBjb250YWN0KSB7XHJcbiAgICAgICAgLy/lpoLmnpzooqvnorDliLDvvIzliJnnp7vpmaTlrZDlvLlcclxuICAgICAgICB0aGlzLm93bmVyLnJlbW92ZVNlbGYoKTtcclxuICAgIH1cclxuXHJcbiAgICBvblVwZGF0ZSgpIHtcclxuICAgICAgICAvL+WmguaenOWtkOW8uei2heWHuuWxj+W5le+8jOWImeenu+mZpOWtkOW8uVxyXG4gICAgICAgIGlmICh0aGlzLm93bmVyLnkgPCAtMTApIHtcclxuICAgICAgICAgICAgdGhpcy5vd25lci5yZW1vdmVTZWxmKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uRGlzYWJsZSgpIHtcclxuICAgICAgICAvL+WtkOW8ueiiq+enu+mZpOaXtu+8jOWbnuaUtuWtkOW8ueWIsOWvueixoeaxoO+8jOaWueS+v+S4i+asoeWkjeeUqO+8jOWHj+WwkeWvueixoeWIm+W7uuW8gOmUgFxyXG4gICAgICAgIExheWEuUG9vbC5yZWNvdmVyKFwiYnVsbGV0XCIsIHRoaXMub3duZXIpO1xyXG4gICAgfVxyXG59Iiwi77u/aW1wb3J0IEdhbWVVSSBmcm9tIFwiLi9HYW1lVUlcIjtcclxuLyoqXHJcbiAqIOaOieiQveebkuWtkOiEmuacrO+8jOWunueOsOebkuWtkOeisOaSnuWPiuWbnuaUtua1geeoi1xyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRHJvcEJveCBleHRlbmRzIExheWEuU2NyaXB0IHtcclxuICAgIGNvbnN0cnVjdG9yKCkgeyBzdXBlcigpOyB9XHJcbiAgICBvbkVuYWJsZSgpIHtcclxuICAgICAgICAvKirojrflvpfnu4Tku7blvJXnlKjvvIzpgb/lhY3mr4/mrKHojrflj5bnu4Tku7bluKbmnaXkuI3lv4XopoHnmoTmn6Xor6LlvIDplIAgKi9cclxuICAgICAgICB0aGlzLl9yaWcgPSB0aGlzLm93bmVyLmdldENvbXBvbmVudChMYXlhLlJpZ2lkQm9keSk7XHJcbiAgICAgICAgLy/nm5LlrZDnrYnnuqdcclxuICAgICAgICB0aGlzLmxldmVsID0gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogNSkgKyAxO1xyXG4gICAgICAgIC8v562J57qn5paH5pys5a+56LGh5byV55SoXHJcbiAgICAgICAgdGhpcy5fdGV4dCA9IHRoaXMub3duZXIuZ2V0Q2hpbGRCeU5hbWUoXCJsZXZlbFR4dFwiKTtcclxuICAgICAgICB0aGlzLl90ZXh0LnRleHQgPSB0aGlzLmxldmVsICsgXCJcIjtcclxuICAgIH1cclxuXHJcbiAgICBvblVwZGF0ZSgpIHtcclxuICAgICAgICAvL+iuqeaMgee7reebkuWtkOaXi+i9rFxyXG4gICAgICAgIHRoaXMub3duZXIucm90YXRpb24rKztcclxuICAgIH1cclxuXHJcbiAgICBvblRyaWdnZXJFbnRlcihvdGhlciwgc2VsZiwgY29udGFjdCkge1xyXG4gICAgICAgIHZhciBvd25lciA9IHRoaXMub3duZXI7XHJcbiAgICAgICAgaWYgKG90aGVyLmxhYmVsID09PSBcImJ1dHRsZVwiKSB7XHJcbiAgICAgICAgICAgIC8v56Kw5pKe5Yiw5a2Q5by55ZCO77yM5aKe5Yqg56ev5YiG77yM5pKt5pS+5aOw6Z+z54m55pWIXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmxldmVsID4gMSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sZXZlbC0tO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdGV4dC5jaGFuZ2VUZXh0KHRoaXMubGV2ZWwgKyBcIlwiKTtcclxuICAgICAgICAgICAgICAgIG93bmVyLmdldENvbXBvbmVudChMYXlhLlJpZ2lkQm9keSkuc2V0VmVsb2NpdHkoeyB4OiAwLCB5OiAtMTAgfSk7XHJcbiAgICAgICAgICAgICAgICBMYXlhLlNvdW5kTWFuYWdlci5wbGF5U291bmQoXCJzb3VuZC9oaXQud2F2XCIpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKG93bmVyLnBhcmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBlZmZlY3QgPSBMYXlhLlBvb2wuZ2V0SXRlbUJ5Q3JlYXRlRnVuKFwiZWZmZWN0XCIsIHRoaXMuY3JlYXRlRWZmZWN0LCB0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICBlZmZlY3QucG9zKG93bmVyLngsIG93bmVyLnkpO1xyXG4gICAgICAgICAgICAgICAgICAgIG93bmVyLnBhcmVudC5hZGRDaGlsZChlZmZlY3QpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVmZmVjdC5wbGF5KDAsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIG93bmVyLnJlbW92ZVNlbGYoKTtcclxuICAgICAgICAgICAgICAgICAgICBMYXlhLlNvdW5kTWFuYWdlci5wbGF5U291bmQoXCJzb3VuZC9kZXN0cm95LndhdlwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBHYW1lVUkuaW5zdGFuY2UuYWRkU2NvcmUoMSk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChvdGhlci5sYWJlbCA9PT0gXCJncm91bmRcIikge1xyXG4gICAgICAgICAgICAvL+WPquimgeacieS4gOS4quebkuWtkOeisOWIsOWcsOadv++8jOWImeWBnOatoua4uOaIj1xyXG4gICAgICAgICAgICBvd25lci5yZW1vdmVTZWxmKCk7XHJcbiAgICAgICAgICAgIEdhbWVVSS5pbnN0YW5jZS5zdG9wR2FtZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKirkvb/nlKjlr7nosaHmsaDliJvlu7rniIbngrjliqjnlLsgKi9cclxuICAgIGNyZWF0ZUVmZmVjdCgpIHtcclxuICAgICAgICBsZXQgYW5pID0gbmV3IExheWEuQW5pbWF0aW9uKCk7XHJcbiAgICAgICAgYW5pLmxvYWRBbmltYXRpb24oXCJ0ZXN0L1Rlc3RBbmkuYW5pXCIpO1xyXG4gICAgICAgIGFuaS5vbihMYXlhLkV2ZW50LkNPTVBMRVRFLCBudWxsLCByZWNvdmVyKTtcclxuICAgICAgICBmdW5jdGlvbiByZWNvdmVyKCkge1xyXG4gICAgICAgICAgICBhbmkucmVtb3ZlU2VsZigpO1xyXG4gICAgICAgICAgICBMYXlhLlBvb2wucmVjb3ZlcihcImVmZmVjdFwiLCBhbmkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYW5pO1xyXG4gICAgfVxyXG5cclxuICAgIG9uRGlzYWJsZSgpIHtcclxuICAgICAgICAvL+ebkuWtkOiiq+enu+mZpOaXtu+8jOWbnuaUtuebkuWtkOWIsOWvueixoeaxoO+8jOaWueS+v+S4i+asoeWkjeeUqO+8jOWHj+WwkeWvueixoeWIm+W7uuW8gOmUgOOAglxyXG4gICAgICAgIExheWEuUG9vbC5yZWNvdmVyKFwiZHJvcEJveFwiLCB0aGlzLm93bmVyKTtcclxuICAgIH1cclxufSIsIlxyXG5pbXBvcnQgRHJvcEJveCBmcm9tIFwiLi9Ecm9wQm94XCI7XHJcbmltcG9ydCBCdWxsZXQgZnJvbSBcIi4vQnVsbGV0XCI7XHJcbi8qKlxyXG4gKiDmuLjmiI/mjqfliLbohJrmnKzjgILlrprkuYnkuoblh6DkuKpkcm9wQm9477yMYnVsbGV077yMY3JlYXRlQm94SW50ZXJ2YWznrYnlj5jph4/vvIzog73lpJ/lnKhJREXmmL7npLrlj4rorr7nva7or6Xlj5jph49cclxuICog5pu05aSa57G75Z6L5a6a5LmJ77yM6K+35Y+C6ICD5a6Y5pa55paH5qGjXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lQ29udHJvbCBleHRlbmRzIExheWEuU2NyaXB0IHtcclxuICAgIC8qKiBAcHJvcCB7bmFtZTpkcm9wQm94LHRpcHM6XCLmjonokL3lrrnlmajpooTliLbkvZPlr7nosaFcIix0eXBlOlByZWZhYn0qL1xyXG4gICAgLyoqIEBwcm9wIHtuYW1lOmJ1bGxldCx0aXBzOlwi5a2Q5by56aKE5Yi25L2T5a+56LGhXCIsdHlwZTpQcmVmYWJ9Ki9cclxuICAgIC8qKiBAcHJvcCB7bmFtZTpjcmVhdGVCb3hJbnRlcnZhbCx0aXBzOlwi6Ze06ZqU5aSa5bCR5q+r56eS5Yib5bu65LiA5Liq5LiL6LeM55qE5a655ZmoXCIsdHlwZTppbnQsZGVmYXVsdDoxMDAwfSovXHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7IHN1cGVyKCk7IH1cclxuICAgIG9uRW5hYmxlKCkge1xyXG4gICAgICAgIC8v6Ze06ZqU5aSa5bCR5q+r56eS5Yib5bu65LiA5Liq5LiL6LeM55qE5a655ZmoXHJcbiAgICAgICAgdGhpcy5jcmVhdGVCb3hJbnRlcnZhbCA9IDEwMDA7XHJcbiAgICAgICAgLy/lvIDlp4vml7bpl7RcclxuICAgICAgICB0aGlzLl90aW1lID0gRGF0ZS5ub3coKTtcclxuICAgICAgICAvL+aYr+WQpuW3sue7j+W8gOWni+a4uOaIj1xyXG4gICAgICAgIHRoaXMuX3N0YXJ0ZWQgPSBmYWxzZTtcclxuICAgICAgICAvL+WtkOW8ueWSjOebkuWtkOaJgOWcqOeahOWuueWZqOWvueixoVxyXG4gICAgICAgIHRoaXMuX2dhbWVCb3ggPSB0aGlzLm93bmVyLmdldENoaWxkQnlOYW1lKFwiZ2FtZUJveFwiKTtcclxuICAgICAgICB0aGlzLmNyZWF0ZUJveCgpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uVXBkYXRlKCkge1xyXG4gICAgICAgIC8v5q+P6Ze06ZqU5LiA5q615pe26Ze05Yib5bu65LiA5Liq55uS5a2QXHJcbiAgICAgICAgbGV0IG5vdyA9IERhdGUubm93KCk7XHJcbiAgICAgICAgaWYgKG5vdyAtIHRoaXMuX3RpbWUgPiB0aGlzLmNyZWF0ZUJveEludGVydmFsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3RpbWUgPSBub3c7XHJcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlQm94KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZUJveCgpIHtcclxuICAgICAgICAvL+S9v+eUqOWvueixoeaxoOWIm+W7uuebkuWtkFxyXG4gICAgICAgIGxldCBib3ggPSBMYXlhLlBvb2wuZ2V0SXRlbUJ5Q3JlYXRlRnVuKFwiZHJvcEJveFwiLCB0aGlzLmRyb3BCb3guY3JlYXRlLCB0aGlzLmRyb3BCb3gpO1xyXG4gICAgICAgIGJveC5wb3MoTWF0aC5yYW5kb20oKSAqIChMYXlhLnN0YWdlLndpZHRoIC0gMTAwKSwgLTEwMCk7XHJcbiAgICAgICAgdGhpcy5fZ2FtZUJveC5hZGRDaGlsZChib3gpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKDExMSlcclxuICAgIH1cclxuXHJcbiAgICBvblN0YWdlQ2xpY2soZSkge1xyXG4gICAgICAgIC8v5YGc5q2i5LqL5Lu25YaS5rOh77yM5o+Q6auY5oCn6IO977yM5b2T54S25Lmf5Y+v5Lul5LiN6KaBXHJcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAvL+iInuWPsOiiq+eCueWHu+WQju+8jOS9v+eUqOWvueixoeaxoOWIm+W7uuWtkOW8uVxyXG4gICAgICAgIGxldCBmbHllciA9IExheWEuUG9vbC5nZXRJdGVtQnlDcmVhdGVGdW4oXCJidWxsZXRcIiwgdGhpcy5idWxsZXQuY3JlYXRlLCB0aGlzLmJ1bGxldCk7XHJcbiAgICAgICAgZmx5ZXIucG9zKExheWEuc3RhZ2UubW91c2VYLCBMYXlhLnN0YWdlLm1vdXNlWSk7XHJcbiAgICAgICAgdGhpcy5fZ2FtZUJveC5hZGRDaGlsZChmbHllcik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoq5byA5aeL5ri45oiP77yM6YCa6L+H5r+A5rS75pys6ISa5pys5pa55byP5byA5aeL5ri45oiPKi9cclxuICAgIHN0YXJ0R2FtZSgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuX3N0YXJ0ZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fc3RhcnRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuZW5hYmxlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKue7k+adn+a4uOaIj++8jOmAmui/h+mdnua/gOa0u+acrOiEmuacrOWBnOatoua4uOaIjyAqL1xyXG4gICAgc3RvcEdhbWUoKSB7XHJcbiAgICAgICAgdGhpcy5fc3RhcnRlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuY3JlYXRlQm94SW50ZXJ2YWwgPSAxMDAwO1xyXG4gICAgICAgIHRoaXMuX2dhbWVCb3gucmVtb3ZlQ2hpbGRyZW4oKTtcclxuICAgIH1cclxufSIsImltcG9ydCBHYW1lQ29udHJvbCBmcm9tIFwiLi9HYW1lQ29udHJvbFwiXHJcbi8qKlxyXG4gKiDmnKznpLrkvovph4fnlKjpnZ7ohJrmnKznmoTmlrnlvI/lrp7njrDvvIzogIzkvb/nlKjnu6fmib/pobXpnaLln7rnsbvvvIzlrp7njrDpobXpnaLpgLvovpHjgILlnKhJREXph4zpnaLorr7nva7lnLrmma/nmoRSdW50aW1l5bGe5oCn5Y2z5Y+v5ZKM5Zy65pmv6L+b6KGM5YWz6IGUXHJcbiAqIOebuOavlOiEmuacrOaWueW8j++8jOe7p+aJv+W8j+mhtemdouexu++8jOWPr+S7peebtOaOpeS9v+eUqOmhtemdouWumuS5ieeahOWxnuaAp++8iOmAmui/h0lEReWGhXZhcuWxnuaAp+WumuS5ie+8ie+8jOavlOWmgnRoaXMudGlwTGJsbO+8jHRoaXMuc2NvcmVMYmzvvIzlhbfmnInku6PnoIHmj5DnpLrmlYjmnpxcclxuICog5bu66K6u77ya5aaC5p6c5piv6aG16Z2i57qn55qE6YC76L6R77yM6ZyA6KaB6aKR57mB6K6/6Zeu6aG16Z2i5YaF5aSa5Liq5YWD57Sg77yM5L2/55So57un5om/5byP5YaZ5rOV77yM5aaC5p6c5piv54us56uL5bCP5qih5Z2X77yM5Yqf6IO95Y2V5LiA77yM5bu66K6u55So6ISa5pys5pa55byP5a6e546w77yM5q+U5aaC5a2Q5by56ISa5pys44CCXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lVUkgZXh0ZW5kcyBMYXlhLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgLy/orr7nva7ljZXkvovnmoTlvJXnlKjmlrnlvI/vvIzmlrnkvr/lhbbku5bnsbvlvJXnlKhcclxuICAgICAgICBHYW1lVUkuaW5zdGFuY2UgPSB0aGlzO1xyXG4gICAgICAgIC8v5YWz6Zet5aSa54K56Kem5o6n77yM5ZCm5YiZ5bCx5peg5pWM5LqGXHJcbiAgICAgICAgTGF5YS5Nb3VzZU1hbmFnZXIubXVsdGlUb3VjaEVuYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAvL+WKoOi9veWcuuaZr+aWh+S7tlxyXG4gICAgICAgIHRoaXMubG9hZFNjZW5lKFwidGVzdC9UZXN0U2NlbmUuc2NlbmVcIik7XHJcbiAgICB9XHJcblxyXG4gICAgb25FbmFibGUoKSB7XHJcbiAgICAgICAgLy/miI/mjqfliLbohJrmnKzlvJXnlKjvvIzpgb/lhY3mr4/mrKHojrflj5bnu4Tku7bluKbmnaXkuI3lv4XopoHnmoTmgKfog73lvIDplIBcclxuICAgICAgICB0aGlzLl9jb250cm9sID0gdGhpcy5nZXRDb21wb25lbnQoR2FtZUNvbnRyb2wpO1xyXG4gICAgICAgIC8v54K55Ye75o+Q56S65paH5a2X77yM5byA5aeL5ri45oiPXHJcbiAgICAgICAgdGhpcy50aXBMYmxsLm9uKExheWEuRXZlbnQuQ0xJQ0ssIHRoaXMsIHRoaXMub25UaXBDbGljayk7XHJcbiAgICB9XHJcblxyXG4gICAgb25UaXBDbGljayhlKSB7XHJcbiAgICAgICAgdGhpcy50aXBMYmxsLnZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLl9zY29yZSA9IDA7XHJcbiAgICAgICAgdGhpcy5zY29yZUxibC50ZXh0ID0gXCJcIjtcclxuICAgICAgICB0aGlzLl9jb250cm9sLnN0YXJ0R2FtZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKuWinuWKoOWIhuaVsCAqL1xyXG4gICAgYWRkU2NvcmUodmFsdWUpIHtcclxuICAgICAgICB0aGlzLl9zY29yZSArPSB2YWx1ZTtcclxuICAgICAgICB0aGlzLnNjb3JlTGJsLmNoYW5nZVRleHQoXCLliIbmlbDvvJpcIiArIHRoaXMuX3Njb3JlKTtcclxuICAgICAgICAvL+maj+edgOWIhuaVsOi2iumrmO+8jOmavuW6puWinuWkp1xyXG4gICAgICAgIGlmICh0aGlzLl9jb250cm9sLmNyZWF0ZUJveEludGVydmFsID4gNjAwICYmIHRoaXMuX3Njb3JlICUgMjAgPT0gMCkgdGhpcy5fY29udHJvbC5jcmVhdGVCb3hJbnRlcnZhbCAtPSAyMDtcclxuICAgIH1cclxuXHJcbiAgICAvKirlgZzmraLmuLjmiI8gKi9cclxuICAgIHN0b3BHYW1lKCkge1xyXG4gICAgICAgIHRoaXMudGlwTGJsbC52aXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnRpcExibGwudGV4dCA9IFwi5ri45oiP57uT5p2f5LqG77yM54K55Ye75bGP5bmV6YeN5paw5byA5aeLXCI7XHJcbiAgICAgICAgdGhpcy5fY29udHJvbC5zdG9wR2FtZSgpO1xyXG4gICAgfVxyXG59IiwiLyoqXHJcbiAqIOS6uueJqVxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGVvcGxlIGV4dGVuZHMgTGF5YS5TY3JpcHQge1xyXG4gICAgY29uc3RydWN0b3IoKSB7IHN1cGVyKCk7IH1cclxuICAgIG9uRW5hYmxlKCkge1xyXG4gICAgICAgIHRoaXMubnVtID0gMDtcclxuICAgICAgICB0aGlzLm93bmVyLm9uKExheWEuRXZlbnQuQ0xJQ0ssIHRoaXMsIHRoaXMuYWRkVGV4dClcclxuICAgIH1cclxuXHJcbiAgICBhZGRUZXh0KCkge1xyXG4gICAgICAgIHRoaXMubnVtKys7XHJcbiAgICAgICAgdGhpcy5vd25lci5nZXRDaGlsZEJ5TmFtZShcImRvbV90ZXh0XCIpLmluZGV4ID0gU3RyaW5nKHRoaXMubnVtICUgMTApO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiY2xpY2tcIik7XHJcbiAgICB9XHJcblxyXG59IiwiLyoqXHJcbiAqIOS4ieinkuW9olxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RhciBleHRlbmRzIExheWEuU2NyaXB0IHtcclxuICAgIC8qKiBAcHJvcCB7bmFtZTpudW0sdGlwczpcIuavj+asoeaXi+i9rOeahOinkuW6plwiLHR5cGU6aW50fSovXHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7IHN1cGVyKCk7IH1cclxuICAgIG9uRW5hYmxlKCkge1xyXG4gICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgb25VcGRhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5vd25lci5yb3RhdGlvbiArPSB0aGlzLm51bTtcclxuICAgIH1cclxuXHJcbiAgIFxyXG59Il19
